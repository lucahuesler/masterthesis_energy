[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Estimating the heat energy use of residential buildings",
    "section": "",
    "text": "About\n\n\n\n\n\n\nNote\n\n\n\nThe original verison of this master’s thesis has been submitted at Lucerne University of Applied Sciences in June 2023. This is an online version that can be due to change.\n\n\nContact me through GitHub or LinkedInfor any questions.\nThe code of this thesis is available in this GitHub repository."
  },
  {
    "objectID": "01-Introduction.html#sec-general-background",
    "href": "01-Introduction.html#sec-general-background",
    "title": "1  Introduction",
    "section": "1.1 General Background",
    "text": "1.1 General Background\nAccording to the latest report of the Intergovernmental Panel on Climate Change (IPCC) “human activities, principally through emissions of greenhouse gases, have unequivocally caused global warming, with global surface temperature reaching 1.1°C above 1850–1900 in 2011–2020.” (Mukherji et al., 2023, p. 4). Global warming is happening at accelerated speed and its consequences become increasingly visible. The building sector is one of the main contributors to global greenhouse gas emissions (Zhong et al., 2021). This is especially true for Switzerland, where the building sector contributes approximately 25.8% of the country’s total emissions (Federal Office for the Environment, 2023b).\nBy signing the United Nations Paris agreement, Switzerland committed to reducing its emissions by half until 2030 compared to the level of 1990 (Federal Office for the Environment, 2023a). Furthermore, the Federal Council decided in 2019 that Switzerland aims for the so-called net zero target and thereby should reduce its emissions to net zero by 2050 (Federal Office for the Environment, 2019).1\nOn June 13th 2021, Switzerland voted on the Federal Act on the Reduction of Greenhouse Gas Emissions (CO2 Act). The Act also included measures concerning the building sector: For new buildings and for changes of the heating system in older buildings, the installation of non-renewable heating systems would no longer be allowed (Federal Office for the Environment, 2021). However, the CO2 Act was rejected by the Swiss electorate (Bundeskanzlei, 2023). This result also had consequences for the energy policies of the Cantons. As stated in the newest version of the Cantonal Energy Planning Report of Basel-Landschaft, the rejection of the CO2 Act increased the pressure on the Cantons to take action, particularly in the building sector (Regierungsrat des Kantons Basel-Landschaft, 2022a). According to Switzerland’s long-term climate strategy, the Cantons are responsible for reducing the emissions of the building sector in order to meet the the country’s net zero target (Federal Council of Switzerland, 2021)."
  },
  {
    "objectID": "01-Introduction.html#sec-energy-policy-in-the-canton-of-basel-landschaft",
    "href": "01-Introduction.html#sec-energy-policy-in-the-canton-of-basel-landschaft",
    "title": "1  Introduction",
    "section": "1.2 Energy policy in the Canton of Basel-Landschaft",
    "text": "1.2 Energy policy in the Canton of Basel-Landschaft\nIn 2021, the cantonal government of Basel-Landschaft, together with the governments of the Cantons of Aargau, Basel-Stadt, Jura and Solothurn, signed the Climate Charter of the Northwestern Intergovernmental Conference. In accordance with the goals on the national level, the five cantons committed on reaching the net zero target by 2050. Furthermore, they agreed that the energy supply of the signing Cantons should be switched to 100% renewable energy sources by no later than 2050 (Nordwestschweizer Regierungskonferenz, 2021).\nThe current legally valid version of the cantonal energy law defines in § 2 (1-4) the following goals (Landrat des Kantons Basel-Landschaft, 2020):\n\nThe end energy consumption (german: Endenergieverbrauch) in the canton, excluding mobility, should be reduced by 40% by 2050 compared to 2000 (6,500 GWh).\nThe share of renewable energies in total energy consumption, excluding mobility, should be increased to at least 40% by 2030.\nIn the building sector, the heating demand for new buildings should be reduced to an average of 20 kilowatt hours (kWh) per square meter of energy reference area (ERA) per year by 2030.\nIn the building sector, the non-renewable heating demand for existing buildings should be reduced to an average of 40 kWh per square meter of ERA per year by 2050.\n\nHowever, the latest version of the energy planning report reviewed these targets for compatibility with the net-zero target. The report states that the first and third goal above are not compatible with the net zero target (Regierungsrat des Kantons Basel-Landschaft, 2022a). As a result of this finding, the cantonal government submitted a proposal on behalf of the cantonal parliament (german: Landratsvorlage) in which the two goals are adapted as follows (Regierungsrat des Kantons Basel-Landschaft, 2022b):\n\nThe end energy consumption in the canton, excluding mobility, should be reduced by 70% by 2050 compared to 2000 (6,500 GWh).\nIn the building sector, the heating demand for existing buildings should be reduced to an average of 40 kWh per square meter of energy reference area per year by 20502.\n\nTo achieve the above mentioned goals, the cantonal building stock has to be transformed fundamentally. In 2020, two thirds of about 65’000 residential buildings in the canton were heated by fossil energy sources (Statistisches Amt des Kantons Basel-Landschaft, 2022c). As shown in Figure 1.1, the share buildings heated by non-renewable energy sources is particularly high for buildings built before 1980.\n\n\n\nFigure 1.1: Residential buildings by heat energy source and construction period, as of 2020 (Statistisches Amt des Kantons Basel-Landschaft, 2022c).\n\n\nAgainst this background, it’s clear that a fundamental change of heating systems is necessary to achieve the national and cantonal climate goals, particularly the net zero target. According to the latest energy planning report, around 1000 heating systems per year change to renewable sources through the cantonal subsidies program Baselbieter Energiepaket (Regierungsrat des Kantons Basel-Landschaft, 2022a). However, the heating system replacement rate should be around 1500 buildings per year on average to achieve 100% renewable heating of the building sector by 2050."
  },
  {
    "objectID": "01-Introduction.html#sec-problem-definition",
    "href": "01-Introduction.html#sec-problem-definition",
    "title": "1  Introduction",
    "section": "1.3 Problem definition",
    "text": "1.3 Problem definition\nTo track progress towards an emission-free building sector, it’s crucial to have robust and reliable data. The cantonal energy statistics serves this purpose and acts as a central data basis for evaluating and measuring the impact of the cantonal energy policy as well as energy planning at the cantonal and municipal levels (Statistisches Amt des Kantons Basel-Landschaft, 2022a).\nThe Canton of Basel-Landschaft conducts a energy statistics already since 19903. Ever since, the energy consumption had to be estimated at least in parts - namely for energy sources where no measured data is available. In particular, this is the case for domestic hot water (DHW) and heat energy consumption (HEC) of residential buildings using energy sources not connected to a grid - such as heating oil, wood-based energy systems or heat pumps. In the latest version of the cantonal energy statistics for 2020, about 40% of the total annual energy consumption was based on estimations (Statistisches Amt des Kantons Basel-Landschaft, 2022b).\nIn 2010, the estimation method has been revised and adapted in collaboration with the canton of Basel-Stadt (Statistisches Amt des Kantons Basel-Stadt, 2022). The revised method uses a bottom-up approach based on the cantonal Register of Buildings and Dwellings (RBD) and measured energy consumption data in order to determine heat energy consumption per square meter or heat energy performance indicators (HEPI). The HEPI is then used to estimate the heat energy consumption (HEC) for buildings where measured data is unavailable. The details of the estimation method are documented in the methodological guideline (see Statistisches Amt des Kantons Basel-Stadt (2017)) and discussed further in Section 2.2.\nIn general, the current methodology presents a clear and transparent approach for estimating the HEC of the building sector. It offers a precise estimation that can produce satisfactory results at the cantonal level. However at the level of a municipality or of individual buildings, the estimation error may be substantial.\nIn particular, we can define the following shortcomings of the current estimation method that potentially limit its accuracy and applicability:\n\nAveraging the HEPI per construction period: The HEPI for a specific building may not necessarily be representative of the typical HEPI value for buildings of the same construction period. This could introduce inaccuracies in the estimation of HEC of an individual building.\nDifferences between municipalities: The current method does not explicitly consider potential differences between municipalities that could influence the HEPI. However, it is possible that some municipalities have significantly different factors influencing their HEC, such as different building structures or different energy consumption patterns.\nRetrofitting is not taken into account: The method does not include any information on the influence of retrofitting on energy consumption. While the effect of retrofitting may be implicitly reflected in the average HEPI, it is not possible to quantify the effect of retrofitting on energy consumption.\nSocio-economic factors are not considered: Similar to retrofitting, socio-economic factors and the behavior of inhabitants are not considered explicitly in the current method. Currently, only the number of inhabitants registered at the end of the respective survey year are taken into account in order to estimate the DHW consumption. However, the behavior of the inhabitants, as well vacancies of a building, can influence the HEC.\nRandomness of weather: Like the effect of retrofitting, influences of the weather are implicitly reflected in the measured consumption data. However, the effect of changes in the weather can not be quantified.\n\nThese limitations highlight the need for further research to enhance the current method’s accuracy and applicability. As detailed energy data at the level of individual buildings becomes increasingly important for energy planning at municipal or neighborhood level, it seems crucial to provide accurate and precise estimations.\nThe above considerations represent the starting point for this thesis. In what follows, we aim to study and evaluate new approaches to estimating the heat energy use of residential buildings that can potentially improve the results and reliability of the cantonal energy statistics."
  },
  {
    "objectID": "01-Introduction.html#sec-research-questions",
    "href": "01-Introduction.html#sec-research-questions",
    "title": "1  Introduction",
    "section": "1.4 Research questions & goals",
    "text": "1.4 Research questions & goals\nBased on the considerations in Section 1.3 , we here formulate the research questions and also define the goals of the project from a practical perspective.\nThe objective of this Master’s thesis is to explore and evaluate different state-of-the-art machine learning models for estimating the HEC of residential buildings. Thereby, we seek to present alternative approaches to the current method as outlined in Section 1.3, that can potentially deliver more precise estimations of the HEC and address the above mentioned shortcomings.\nConsequently, we here formulate the following two main research questions:\n\nRQ1: Which model or set of models can achieve the highest accuracy in estimating the heat energy consumption (HEC) of residential buildings?\nRQ2: What predictors are the most important for the prediction of HEC?\n\nBy emphasizing on RQ1, we formulate the following sub-questions:\n\nRQ1.1: Can we achieve a higher accuracy in estimating heat energy consumption (HEC) of residential buildings compared to the current approach?\nRQ1.2: Can we improve the predictions through feature engineering (e.g. adding new predictor variables) or by training models on different data subsets?\n\nWith regard to RQ2, we are specifically interested in features of the input data that are not yet considered in the current approach. Thus, we here formulate the following sub-questions:\n\nRQ2.1: What importance can be attributed to retrofit features in the final model?\nRQ2.2: What importance can be attributed to socio-economic features in the model?\n\nFrom a more practical perspective, we here define the following goals of the master thesis:\n\nGenerate more detailed insights on the shortcomings of the current method and outline possible strategies to overcome them.\nProvide alternative estimation methods that can be integrated in the current method.\nDeliver an example use case for the application of machine learning methods in the field of official statistics.\n\n\n\n\n\nBundeskanzlei. (2023, December 5). Resultate der Abstimmung über das Bundesgesetz vom 25.09.2020 über die Verminderung von Treibhausgasemissionen (CO2-Gesetz). Retrieved from https://www.bk.admin.ch/bk/de/home/politische-rechte/pore-referenzseite.html\n\n\nFederal Council of Switzerland. (2021). Langfristige klimastrategie der schweiz. Retrieved from https://www.bafu.admin.ch/dam/bafu/de/dokumente/klima/fachinfo-daten/langfristige-klimastrategie-der-schweiz.pdf.download.pdf/Langfristige%20Klimastrategie%20der%20Schweiz.pdf\n\n\nFederal Office for the Environment. (2019). Federal council aims for a climate-neutral switzerland by 2050. Retrieved from https://www.admin.ch/gov/en/start/documentation/media-releases.msg-id-76206.html\n\n\nFederal Office for the Environment. (2021). Die wichtigsten Massnahmen des revidierten CO2-Gesetzes. Retrieved from https://www.bafu.admin.ch/bafu/de/home/themen/thema-klima/klima--dossiers/klimaschutz-und-co2-gesetz/die-wichtigsten-massnahmen-des-revidierten-co2-gesetzes.html\n\n\nFederal Office for the Environment. (2023a). Bilateral climate agreements. Retrieved from https://www.bafu.admin.ch/bafu/en/home/themen/thema-klima/klimawandel-stoppen-und-folgen-meistern/klima--internationales/staatsvertraege-umsetzung-klimauebereinkommen-von-paris-artikel6.html\n\n\nFederal Office for the Environment. (2023b). Kenngrössen zur Entwicklung der Treibhausgasemissionen in der Schweiz 19902021. Retrieved from https://www.bafu.admin.ch/bafu/de/home/themen/thema-klima/klima--daten--indikatoren-und-karten/daten--treibhausgasemissionen-der-schweiz/treibhausgasinventar.html\n\n\nFederal Office for the Environment. (2023c, March 31). 2050 net-zero target. Retrieved from https://www.bafu.admin.ch/bafu/en/home/themen/thema-klima/klimawandel-stoppen-und-folgen-meistern/massnahmen-der-schweiz-zur-verminderung-ihrer-treibhausgasemissionen/ziele-der-schweiz-zur-verminderung-ihrer-treibhausgasemissionen/indikatives-ziel-2050.html\n\n\nLandrat des Kantons Basel-Landschaft. (2020). Energiegesetz (EnG BL). Retrieved from https://bl.clex.ch/app/de/texts_of_law/490\n\n\nMukherji, A., Thorne, P., Cheung, W. W. L., Connors, S. L., Garschagen, M., Geden, O., … Yassaa, N. (2023). Synthesis Report of the IPCC Sixth Assessment Report (AR6): Summary for Policymakers.\n\n\nNordwestschweizer Regierungskonferenz. (2021). Klima-Charta der Nordwestschweizer Regierungskonferenz. In (p. 5). Retrieved from https://www.baselland.ch/politik-und-behorden/direktionen/bau-und-umweltschutzdirektion/umweltschutz-energie/klima-1/klima-charta-der-nordwestschweizer-regierungskonferenz/downloads-1/04_klima-charta_nwrk-d.pdf/@@download/file/04_Klima-Charta_NWRK-D.pdf\n\n\nRegierungsrat des Kantons Basel-Landschaft. (2022a). Bericht zum Stand der Energiepolitik des Kantons Basel-Landschaft im Jahr 2022 (p. 49). Retrieved from https://www.baselland.ch/politik-und-behorden/direktionen/bau-und-umweltschutzdirektion/umweltschutz-energie/energie/energieplanung/energieplanung-dokumentensammlung/energieplanungsbericht-2022-bericht\n\n\nRegierungsrat des Kantons Basel-Landschaft. (2022b). Vorlage an den Landrat: Änderung des kantonalen Energiegesetzes und des zugehörigen Dekrets aufgrund des Energieplanungsberichts 2022 (p. 47). Retrieved from https://baselland.talus.ch/de/dokumente/geschaeft/0c4e9a4dc0c84cf783377aa2b4e46bcc-332\n\n\nStatistisches Amt des Kantons Basel-Landschaft. (2022a). Methodensteckbrief zur kantonalen Energiestatistik (p. 2). Liestal. Retrieved from https://www.statistik.bl.ch/uploads/meta_files/Methodensteckbrief_08_Energie.pdf\n\n\nStatistisches Amt des Kantons Basel-Landschaft. (2022b, June 29). Kantonale energiestatistik. Retrieved from https://www.statistik.bl.ch/web_portal/8\n\n\nStatistisches Amt des Kantons Basel-Landschaft. (2022c, June 29). Webartikel: Energiestatistik 2020. Retrieved from https://www.baselland.ch/politik-und-behorden/direktionen/finanz-und-kirchendirektion/statistisches-amt/publikationen/energie/webartikel_vom_29-06-2022_energiestatistik_2020\n\n\nStatistisches Amt des Kantons Basel-Stadt. (2017). Energiestatistik: Konzeptioneller und methodischer Leitfaden (p. 42). Basel.\n\n\nStatistisches Amt des Kantons Basel-Stadt. (2022). Methodenbericht - Energiestatistik Basel-Stadt. (p. 12). Basel. Retrieved from https://www.statistik.bs.ch/dam/jcr:51d6273d-0c4c-40f9-9941-beb834331e45/Methodikbericht-Energiestatistik.pdf\n\n\nZhong, X., Hu, M., Deetman, S., Steubing, B., Lin, H. X., Hernandez, G. A., … Behrens, P. (2021). Global greenhouse gas emissions from residential and commercial building materials and mitigation strategies to 2060. Nature Communications, 12(1), 6126. http://doi.org/10.1038/s41467-021-26212-z"
  },
  {
    "objectID": "02-TheoreticalBackground.html#sec-building-energy-estimation-methods",
    "href": "02-TheoreticalBackground.html#sec-building-energy-estimation-methods",
    "title": "2  Theoretical background",
    "section": "2.1 Building energy quantification methods",
    "text": "2.1 Building energy quantification methods\nBuilding energy estimation or prediction models can be defined as physical or mathematical models that help to determine the energy use of the building sector (Yu et al., 2022). While we focus exclusively on estimating heat energy in this thesis, it is important to note that energy estimation methods can also include other energy usages such as cooling, electricity or DHW. On a general level, the relevant literature differs between top-down and bottom-up approaches (Bourdeau et al., 2019; Deb & Schlueter, 2021; Yu et al., 2022). We shortly introduce both approaches here, but since we aim at developing estimation models at the level of individual buildings, we consider bottom-up approaches as more relevant in the context of this study.\n\n2.1.1 Top-down approaches\nTop-down approaches use aggregated data on regional or national level in order to estimate the energy use of a region or of individual buildings. A typical example for a top-down approach in Switzerland is presented by (Eymann et al., 2014): The study uses the national energy statistics of Switzerland to estimate energy consumption on cantonal level. While for some cantons, the results of the study fit quite well with the data published by the cantons, in other cases the authors observed significant differences (e.g. Basel-Stadt). Top-down approaches can be suitable for large-scale planning, but they often do not provide adequate results as the spatial resolution becomes finer (such as municipality, neighborhood, building level).\nIt is worth nothing however, that top-down approaches can offer a good way for cases where no fine-grained data is available. As noted by Guo et al. (2022), this is the case in many developing countries.\n\n\n2.1.2 Bottom-up approaches\nBottom-up approaches on the other hand use the information of individual buildings as starting point. In earlier stages of building energy modelling, the research focused mainly on physics-based or white-box models, where the models try to simulate the energy use of a building by the use of physical conditions and parameters. As indicated by the name of white-box models, these models are usually very good in terms of explainability (Yu et al., 2022).\nWith the increasing availability of more and better data on energy consumption and building characteristics, as well as machine learning algorithms, the so-called black-box models became more and more popular (Bourdeau et al., 2019; Dong et al., 2016; Yu et al., 2022). Typically, there are three groups of independent variables in black-box models (Yu et al., 2022):\n\nSocio-economic parameters (e.g. occupant behavior)\nWeather parameters\nBuilding parameters\n\nIn the modelling process, black-box models usually rely on machine learning algorithms. Among the most popular black-box models are multiple linear regression (MLR) models, support vector machines (SVM) or artificial neural networks (ANN). However in recent research, tree-based methods like random forest (RF) or gradient boost machines (GBM) have shown promising results (Deb & Schlueter, 2021; Gubser, 2022; Olu-Ajayi et al., 2022).\nThere are also different examples, where white-box and black-box models are combined - so-called hybrid or grey-box models. Hybrid models seek to eliminate the weaknesses and combine the strengths of white and black-box models (Chalal et al., 2016).\nBased on literature review on bottom-up approaches, Table 2.1 summarizes the most important advantages and disadvantages of the three approaches.\n\n\nTable 2.1: Advantages and disadvantages of bottom-up approaches (Own representation based on literature review)\n\n\n\n\n\n\n\nApproach\nAdvantages\nDisadvantages\n\n\n\n\nWhite-box models\n\nGood interpretability: Allow insights into energy flows and system behavior.\nUniversality: Reliability in extrapolating beyond training data, particularly for unobserved scenarios.\nNo need for historical data\n\n\nNeed for detailed building information\nComplex model development and calibration processes.\nReliance on accurate inputs and assumptions about building properties and behavior.\nChallenging to integrate real-world conditions (e.g. randomness of weather).\n\n\n\nBlack-box models\n\nAbility to capture complex relationships and patterns in the data.\nFlexibility to handle large and diverse datasets.\nCan account for non-linear and dynamic relationships between variables.\n\n\nMay require a large amount of high-quality training data.\nLimited interpretability by relying on machine learning algorithms.\nSensitivity to data quality, outliers, and changes in underlying patterns.\n\n\n\nHybrid Models\n\nCapitalize on the strengths of both data-driven and physics-based approaches.\nImproved accuracy by integrating physical constraints into data-driven models.\nEnhanced interpretability by incorporating domain knowledge.\n\n\nIncreased complexity in model development and integration of disparate techniques.\nHigher computational requirements compared to individual approaches.\nChallenges in determining the appropriate balance between data-driven and physics-based components.\n\n\n\n\n\nThe approach chosen for this master thesis can be considered a black-box model for the following reasons: First, the approach uses a clearly data-driven approach. Second, the approach uses various machine learning algorithms that are typically used in black-box models. And finally, one of the main challenges relies in the interpretability of the models. On the other hand, the current method of the cantonal energy statistics, as presented in the following Section 2.2, can be considered as a hybrid approach. The approach is easily interpretable and relies on various assumptions (e.g. homogeneity of the energy consumption within construction periods or municipalities) - which are typical characteristics of white-box models. Nevertheless, it heavily relies on the quality of the input data, which is typical for black-box models."
  },
  {
    "objectID": "02-TheoreticalBackground.html#sec-current-method",
    "href": "02-TheoreticalBackground.html#sec-current-method",
    "title": "2  Theoretical background",
    "section": "2.2 Current method",
    "text": "2.2 Current method\nAt it’s core, the current method of the cantonal energy statistics uses a bottom-up approach and is based on the cantonal register of buildings and dwellings (RBD)1. The RBD provides information about every building in the canton, such as the building area, building category or the construction year. The building data from the RBD is then enriched with measured energy consumption data for gas-heated buildings and further information from other data sources (e.g. the number of inhabitants or characteristics of the heat energy installation).\nThe measured gas consumption represents the total annual amount of energy in kWh that the energy provider delivers to the building. This englobes DHW as well as HEC and in some cases also energy used for cooking. However, for the estimation of HEC, only the energy consumption that flows into the space heating should be considered. Thus, the gas consumption is adjusted as follows:\n\\[\n\\begin{aligned}\nHEC &= Gas_{m} + Solar_{e} - c_{DHW}*N_{I}\n\\end{aligned}\n\\tag{2.1}\\]\nwhere:\n\nGasm = Total gas consumption in kWh as measured by the provider\nSolare = Estimated solar production in kWh\ncDHW = Constant estimated factor of DHW per person and year (850 kWh)\nNI = Number of inhabitants\n\nBased on this, the heating energy consumption per square meter of area (HEPI) can be calculated:\n\\[\n\\begin{aligned}\nHEPI = \\frac{HEC*e}{ERA}\n&= \\frac{HEC*e}{GFA*n_{floors}}\n\\end{aligned}\n\\tag{2.2}\\]\nwhere:\n\nHEC = Heat energy consumption in kWh/year\ne = Efficiency factor of the installation for heat generation2\nERA = Energy reference area in square meters\nGFA = Gross floor area\nnfloors = Number of floors\n\nAs the ERA is generally not available, it is approximated on the basis of GFA multiplied by the number of floors. Equation 2.2 is applied to all gas-heated buildings in the canton in order to calculate the average HEPI for each building category (single-family house or multi-family house) and period of construction. The following Figure 2.1 shows the average HEPI per construction period for single-family houses (SFH) in 2016, 2018 and 2020.\n\n\n\n\n\nFigure 2.1: HEPI of SFH in kWh/m2*year by survey year and construction period.\n\n\n\n\nIn the last step of the method, the HEC of the buildings where no measured data is available will be measured. In doing so, Equation 2.2 is reversed in order to obtain the HEC:\n\\[\n\\begin{aligned}\nHEC = \\frac{HEPI * ERA}{e}\n&= \\frac{HEPI*{GFA*n_{floors}}}{e}\n\\end{aligned}\n\\tag{2.3}\\]\nwhere:\n\ne = Efficiency factor of the installation for heat generation\nERA = Energy reference area in square meters\nGFA = Gross floor area\nnfloors = Number of floors"
  },
  {
    "objectID": "02-TheoreticalBackground.html#sec-terminology",
    "href": "02-TheoreticalBackground.html#sec-terminology",
    "title": "2  Theoretical background",
    "section": "2.3 Terminology",
    "text": "2.3 Terminology\nEnergy always passes through different stages between the first extraction and final consumption (e.g. distribution, storage). From a high-level perspective, we can differentiate between four stages as illustrated in Figure 2.2 . Between the different stages, there are always losses through transformation to the next stage.\n\n\n\nFigure 2.2: Stages of the energy chain .\n\n\nIn the context of this master thesis, we only focus on the last two stages: final energy and useful energy. As defined by the United Nations Economic & Social Affairs Statistics Division (2018, p. 55), final energy consumption “refers to all fuel and energy delivered to users for both their energy and non-energy uses”. While there exist various uses of energy, we exclusively focus on the use of heat generation in the context of this study.\nThe data used for modelling contains the amount natural gas delivered by the provider to the building and therefore does not take into account potential losses due to the inefficiencies of heating appliances. In the context of Figure 2.2, this corresponds to the stage of final energy.\nAs outlined in Section 2.2, the current method uses the age of the heat generating installation for estimating the losses between final energy and useful energy. However the final estimation of the HEC refers to the final energy as shown in Equation 2.3. In line with the current approach as well as other approaches (e.g. (Gubser, 2022)), HEC always refers to the final energy consumption in the context of this thesis."
  },
  {
    "objectID": "02-TheoreticalBackground.html#sec-evaluation-metrics",
    "href": "02-TheoreticalBackground.html#sec-evaluation-metrics",
    "title": "2  Theoretical background",
    "section": "2.4 Evaluation metrics",
    "text": "2.4 Evaluation metrics\nFor evaluation and comparison of machine learning models, there exist a variety of metrics. In the field of energy research, the most commonly used metrics are the following (see for example (Amasyali & El-Gohary, 2018; Manfren et al., 2022; Wenninger & Wiethe, 2021)):\n\nRoot mean squared error (RMSE)\nMean absolute error (MAE)\nMean absolute percentage error (MAPE)\nR-Squared (\\(R²\\))\nCoefficient of variation (CV) of RMSE\n\nIn the following, we will present the mathematical formula and a short explanation of the metrics that were used for evaluation. In addition to the metrics mentioned above, we also used the absolute percentage error (APE) aggregated on the level of municipalities.\nRMSE\nThe Root mean squared error (RMSE) is a measure of the differences between predicted and actual values. It is calculated by taking the square root of the mean of the squared differences between predicted and actual values. The formula for RMSE is given as:\n\\[ RMSE = \\sqrt{\\frac{1}{n} \\sum_{i=1}^{n} (y_i - \\hat{y_i})^2}  \\tag{2.4}\\]\nwhere \\(y_i\\) represents the actual values, \\(\\hat{y_i}\\) represents the predicted values and \\(n\\) represents the number of samples.\nMAE\nThe Mean absolute error (MAE) is another measure of the differences between predicted and actual values. Unlike RMSE, it is not squared, so it is less sensitive to outliers. It is calculated as the average of the absolute differences between predicted and actual values. The formula for MAE is given as:\n\\[ MAE = \\frac{1}{n} \\sum_{i=1}^{n} \\left| y_i - \\hat{y_i} \\right|  \\tag{2.5}\\]\nwhere \\(y_i\\) represents the actual values, \\(\\hat{y_i}\\) represents the predicted values and \\(n\\) represents the number of samples.\nMAPE\nThe Mean absolute percentage error (MAPE) is a measure of the differences between predicted and actual values as a percentage. It is calculated as the average of the absolute differences between predicted and actual values, expressed as a percentage of the actual values. The formula for MAPE is given as:\n\\[ MAPE = \\frac{100}{n} \\sum_{i=1}^{n} \\left| \\frac{y_i - \\hat{y_i}}{y_i} \\right|  \\tag{2.6}\\]\nwhere \\(y_i\\) represents the actual values, \\(\\hat{y_i}\\) represents the predicted values and \\(n\\) represents the number of samples.\nR-Squared\n\\(R²\\) is a measure of the goodness of fit of a linear regression model. It is calculated as the ratio of explained variance to total variance. A higher R-Squared value indicates that a larger proportion of the variance in the dependent variable is explained by the independent variables. The formula for R-Squared is given as:\n\\[ R^2 = 1 - \\frac{\\sum_{i=1}^{n} (y_i - \\hat{y_i})^2}{\\sum_{i=1}^{n} (y_i - \\bar{y})^2}  \\tag{2.7}\\]\nwhere \\(y_i\\) represents the actual values, \\(\\hat{y_i}\\) represents the predicted values, \\(\\bar{y}\\) represents the mean of the actual values, and \\(n\\) represents the number of samples.\nCV(RMSE)\nCV(RMSE) is normalized measure of the RMSE. It divides the RMSE by the mean of the observed values and therefore allows interpreting the RMSE in relation to the mean of the target variable. The formula is given as:\n\\[\nCV(RMSE) = \\frac{\\sqrt{\\frac{1}{n} \\sum_{i=1}^{n} (y_i - \\hat{y_i})^2}}{\\frac{1}{n} \\sum_{i=1}^{n} y_i}\n\\tag{2.8}\\]\nwhere \\(y_i\\) represents the actual values, \\(\\hat{y_i}\\) represents the predicted values and \\(n\\) represents the number of samples.\nAs it becomes obvious, RMSE and MAE are scale dependent metrics and are in the case of the present thesis expressed in kWh/year. These metrics are useful for comparing different algorithms on the same train and test data and will be used for the model exploration step as defined in Figure 3.3. MAPE, \\(R²\\) and CV(RMSE) on the other hand are relative and scale independent metrics. Thus, these three metrics are of particular interest when it comes to comparing the model results on different data subsets (see Figure 3.4).\nAggregated APE\nThe aggregated APE shows the relative error of the predictions in comparison to the actual values on a aggregated level. In this study, the APE was used to evaluate the percentage error on the level of a municipality. It is defined by the following formula:\n\\[\n{Aggregated\\ APE} = 1 - \\frac{\\sum \\text{Predicted}}{\\sum \\text{Actual}}\n\\tag{2.9}\\]"
  },
  {
    "objectID": "02-TheoreticalBackground.html#sec-model-explainability-techniques",
    "href": "02-TheoreticalBackground.html#sec-model-explainability-techniques",
    "title": "2  Theoretical background",
    "section": "2.5 Model explainability techniques",
    "text": "2.5 Model explainability techniques\nIn Table 2.1, we have seen that a major of black-box model is their limited interpretability and lack of detailed explanation how a certain prediction is made. In this thesis however, it seems particularly important to also include considerations about model explainability since we are carrying out the study in the public sector context. The current discussion on decision-making based on Artificial Intelligence (AI) highlights the need for transparent and explainable models (see for example Wilson & Velden (2022) or Wolf & Ringland (2020) on this topic). In the context of this thesis, we will use the following two concepts for model explainability:\nVariable importance analysis (VIA)\nVIA is a technique to measure the importance of each predictor variable of a given model. The more the prediction of a model relies on specific variable, the more important this variable is considered for the model. As Wei et al. (2015) point out, a wide range of VIA measures exist, depending on the research field and also on the used algorithm. In our case, we rely on the approach used by the H2O library (see H2O.ai (2023)).\nShapley Additive explanations (SHAP)\nSHAP is a method based on cooperative game theory that helps to increase transparency and interpretability of black-box models (Trevisan, 2022). It was first introduced by (Lundberg & Lee, 2017). While VIA only provides insights about feature importance on a global level, SHAP can also deliver local explanation by calculating feature importance on the level of a individual prediction. Similar to VIA, we use the SHAP implementation of the H2O library (see Murphy (2022)).\n\n\n\n\nAmasyali, K., & El-Gohary, N. M. (2018). A review of data-driven building energy consumption prediction studies. Renewable and Sustainable Energy Reviews, 81, 1192–1205. http://doi.org/10.1016/j.rser.2017.04.095\n\n\nBourdeau, M., Zhai, X. qiang, Nefzaoui, E., Guo, X., & Chatellier, P. (2019). Modeling and forecasting building energy consumption: A review of data-driven techniques. Sustainable Cities and Society, 48, 101533. http://doi.org/https://doi.org/10.1016/j.scs.2019.101533\n\n\nChalal, M. L., Benachir, M., White, M., & Shrahily, R. (2016). Energy planning and forecasting approaches for supporting physical improvement strategies in the building sector: A review. Renewable and Sustainable Energy Reviews, 64, 761–776. http://doi.org/10.1016/j.rser.2016.06.040\n\n\nDeb, C., & Schlueter, A. (2021). Review of data-driven energy modelling techniques for building retrofit. Renewable and Sustainable Energy Reviews, 144, 110990. http://doi.org/10.1016/j.rser.2021.110990\n\n\nDong, B., Li, Z., Rahman, S. M. M., & Vega, R. (2016). A hybrid model approach for forecasting future residential electricity consumption. Energy and Buildings, 117, 341–351. http://doi.org/10.1016/j.enbuild.2015.09.033\n\n\nEconomic, D. of, & Social Affairs Statistics Division. (2018). International Recommendations for Energy Statistics (IRES) (p. 168). New York. Retrieved from https://unstats.un.org/unsd/energystats/methodology/documents/IRES-web.pdf\n\n\nEymann, L., Rohrer, J., & Stucki, M. (2014). Energieverbrauch der Schweizer Kantone : Endenergieverbrauch und Mittelabfluss durch den Energie-Import. http://doi.org/10.21256/zhaw-124\n\n\nGubser, A. (2022). Modelling the energy demand of individual buildings in switzerland. Retrieved from https://github.com/andygubser/buildings-energy-modelling-docs/blob/de8e7ce264c2c47bb10ff4c8a153b316eaa81962/MT_Buildings_Energy_Modelling.pdf\n\n\nGuo, J., Ma, J., Li, Z., & Hong, J. (2022). Building a top-down method based on machine learning for evaluating energy intensity at a fine scale. Energy, 255, 124505. http://doi.org/10.1016/j.energy.2022.124505\n\n\nH2O.ai. (2023, April 28). Variable importance. Retrieved from https://docs.h2o.ai/h2o/latest-stable/h2o-docs/variable-importance.html\n\n\nLundberg, S., & Lee, S.-I. (2017). A unified approach to interpreting model predictions. In.\n\n\nManfren, M., James, P. AB., & Tronchin, L. (2022). Data-driven building energy modelling  An analysis of the potential for generalisation through interpretable machine learning. Renewable and Sustainable Energy Reviews, 167, 112686. http://doi.org/10.1016/j.rser.2022.112686\n\n\nMurphy, A. (2022, January 11). Shapley values - a gentle introduction. Retrieved from https://h2o.ai/blog/shapley-values-a-gentle-introduction/\n\n\nOlu-Ajayi, R., Alaka, H., Sulaimon, I., Sunmola, F., & Ajayi, S. (2022). Building energy consumption prediction for residential buildings using deep learning and other machine learning techniques. Journal of Building Engineering, 45, 103406. http://doi.org/10.1016/j.jobe.2021.103406\n\n\nRegierungsrat des Kantons Basel-Landschaft. (2021). Verordnung über das kantonale gebäude- und wohnungsregister (SGS 111.12). Liestal. Retrieved from https://bl.clex.ch/app/de/texts_of_law/111.12\n\n\nStatistisches Amt des Kantons Basel-Stadt. (2017). Energiestatistik: Konzeptioneller und methodischer Leitfaden (p. 42). Basel.\n\n\nTrevisan, V. (2022, July 5). Using SHAP Values to Explain How Your Machine Learning Model Works. Retrieved from https://towardsdatascience.com/using-shap-values-to-explain-how-your-machine-learning-model-works-732b3f40e137\n\n\nWei, P., Lu, Z., & Song, J. (2015). Variable importance analysis: A comprehensive review. Reliability Engineering & System Safety, 142, 399–432. http://doi.org/10.1016/j.ress.2015.05.018\n\n\nWenninger, S., & Wiethe, C. (2021). Benchmarking Energy Quantification Methods to Predict Heating Energy Performance of Residential Buildings in Germany. Business & Information Systems Engineering, 63(3), 223–242. http://doi.org/10.1007/s12599-021-00691-2\n\n\nWilson, C., & Velden, M. van der. (2022). Sustainable AI: An integrated model to guide public sector decision-making. Technology in Society, 68, 101926. http://doi.org/10.1016/j.techsoc.2022.101926\n\n\nWolf, C. T., & Ringland, K. E. (2020). Designing accessible, explainable AI (XAI) experiences. ACM SIGACCESS Accessibility and Computing, (125), 6:1. http://doi.org/10.1145/3386296.3386302\n\n\nYu, J., Chang, W.-S., & Dong, Y. (2022). Building Energy Prediction Models and Related Uncertainties: A Review. Buildings, 12(8), 1284. http://doi.org/10.3390/buildings12081284"
  },
  {
    "objectID": "03-Methodology.html#sec-data-description",
    "href": "03-Methodology.html#sec-data-description",
    "title": "3  Materials & Methods",
    "section": "3.1 Data sources",
    "text": "3.1 Data sources\nThe finel dataset that we use for modelling is the result of merging information from various sources. In comparison to the current approach, we include information from further data sources (see Section 3.2.3). The following Table 3.1 provides a overview of the data sources used for the project.\n\n\nTable 3.1: Overview of data sources.\n\n\nData\nSpatial resolution\nTemporal resolution\nSource\n\n\n\n\nBuilding characteristics\nBuilding\nYearly\nCantonal RBD\n\n\nEnergy consumption\nBuilding\nYearly\nCantonal energy statistics\n\n\nInhabitants per building\nBuilding\nQuarterly\nCantonal population statistics\n\n\nDemographic characteristics\nRaster grid (100x100 m)\nYearly\nPopulation and Households Statistics (STATPOP)\n\n\nRetrofit information\nBuilding\nDaily\nBaselbieter Energiepaket\n\n\nElevation information\nRaster grid (10x10 m)\n2021\nDigital elevation model (DEM)\n\n\nBuilding floor plan1\nBuilding\nDaily\nCantonal cadastral survey\n\n\n\n\nThe building information data from the RBD and energy consumption was directly extracted from the database of the cantonal energy statistics to ensure the same data basis as the current approach. Thus, these two datasets were already joined and cleaned during the process of the energy statistics and enhanced with information from further sources (e.g. information from the database of the cantonal inspection of combustion systems).2\nThe data on inhabitants, the retrofit information as well as the building floor plan contained the Swiss Building Identification Number (EGID) that serves as unique identifier to match the information with the RBD data.\nIn the case of the elevation information and demographic characteristics, the data was added by spatial joins. The elevation information was retrieved from the digital elevation model provided by swisstopo via Application Programming Interface (API). By using the building coordinates, the elevation (meters above sea level) of each building was retrieved from the API3. The demographic characteristics from STATPOP were only available at an aggregated level of a hectare grid. In order to match the information to the RBD data, the two datasets were spatially joined and all buildings within a hectare grid cell were assigned the corresponding attributes from STATPOP4.\nFinally, the building floor plan was again matched by the EGID and then used to calculate the distance to the next building and thereby to determine if a building is directly connected to another building or stand alone (see Section 3.2.3 for details)."
  },
  {
    "objectID": "03-Methodology.html#sec-methodology",
    "href": "03-Methodology.html#sec-methodology",
    "title": "3  Materials & Methods",
    "section": "3.2 Methodology",
    "text": "3.2 Methodology\nIn order to address the research questions defined in Section 1.4, a suitable methodology is required. The Cross-Industry Standard Process for Data Mining (CRISP-DM, see Figure 3.1) offers conceptual framework that was originally designed for the field of data mining by Wirth & Hipp (2000), but also serves as a guideline for many data science projects (Hotz, 2022).\n\n\n\nFigure 3.1: CRISP-DM Diagram (Hotz, 2022).\n\n\nInspired by the CRISP-DM process model, we define the following methodological steps for our use case:\n\nProblem understanding and definition\nExploratory data analysis (EDA)\nData preparation and cleaning\nModelling\nModel evaluation\nModel selection and deployment\n\nIt is important to note however that we did not follow the above steps in a linear manner. Usually, after creating a first set of models, the evaluation leads to new insights that result in additional feature engineering steps or even a reframing of the initial problem understanding. Accordingly, as shown in Figure 3.2, numerous models were developed and evaluated throughout the modelling process.\n\n\n\nFigure 3.2: A schematic for the typical modeling process (Silge & Kuhn, 2023).\n\n\nIn the following subsections, we will discuss the steps listed above in the context of the present study.\n\n3.2.1 Problem understanding and definition\nThis first step of the process corresponds mainly to the Chapter 1 and Chapter 2 of this study. This phase involved the exchange with experts and the study of relevant literature on the topic. Section 1.3 and Section 1.4 are the results of this step. As discussed above, the problem definition has constantly been refined throughout the following steps. The integration of the retrofit information for example was not explicitly part of the initial outline, but came up during the later stages of data exploration and preparation.\n\n\n3.2.2 Data understanding and exploration\nThis step involves the collection of the data, assessing its quality and also identify possible limitations. We explored the structure and content of each dataset by conducting high-level summary statistics (number and type of variables, number of observations, etc.). This also involved exchange with the respective data owners in order to obtain a precise understanding of the content of each dataset. Finally, we also assessed the data quality by checking for missing values, duplicate records or possible inconsistencies. The most important results of the data exploration phase are presented in Section 4.1.\n\n\n3.2.3 Data preparation\nBased on the findings of the data exploration, the data was then prepared for modelling. In a first step, this consisted in the integration of the different datasets into one dataset that can be used for modelling (see Section 3.1). In the following, we conducted several data transformation steps that we will illustrate in the following.\n\nIntegration of new variables\nIn comparison to the current approach, we integrated the following additional predictor variables based on the sources that are listed in section Section 3.1:\n\nNumber of inhabitants: The current approach uses the number of inhabitants at the end of each survey year as a basis. However as stated in Section 1.3, this does not account for changes during the year or vacancies of a building. Thus, we recalculated the variable by using quarterly population data and determining the mean number of inhabitants for the respective year.\nSocial indicators: Based on the STATPOP dataset, we calculated the following indicators:5\n\nRatio of foreign population\nRatio of one person households\nRatio of elderly population (as defined by OECD (2023a))\nYouth ratio (as defined by OECD (2023b))\nRatio of persons that are residents for less than one year.\n\nRetrofit: Based on the retrofit datasets, we integrated a binary variable that contains the information if a building has been retrofitted between 2009 and 2020.\nElevation: From the DEM, we added a variable that contains the meters above sea level for each building.\nBuilding connectivity: Based on the building floor plan, we calculated the distance to the next building for each building and subsequently created a binary variable that indicates whether a building is detached or attached to another building.\n\n\nCleaning and Imputation\nDuring data exploration, we found that most variables of the dataset indicate a good quality level and we did not detect high numbers of missing values (see Section 4.1). However, in some specific cases we had to take a decision on how to deal with missing values. This is particular true for the variables of the variables construction year and energy usage of the heating installation. For the construction year of the heating installation, we decided to do a mean imputation for missing values. In the case of energy usage of the heating installation however, this was not possible as it is a factor variable containing the information if the heating system is used for DHW, space heating (SH) or both. Thus, we here encoded missing values as an explicit factor level (“missing”).\nIt is worth noting that some imputation was already conducted during the energy statistics survey. To calculate the variable heated area, mean imputation was used in case of missing values for the number of floors (see Statistisches Amt des Kantons Basel-Stadt (2017)).\n\nFiltering\nAs a last step of the data preparation, it was necessary to apply several filters to the data set to ensure consistent dataset for modelling. The following filters were applied:\n\nOnly residential buildings in accordance with our research questions\nOnly buildings with a HEPI between 20 and 300 kWh/m²: This filter was introduced as way of handling outliers for the HEPI. In case of very high or very low values for the HEPI, it is not easy to determine whether the values are correct or the result of a error in the underlying variables6.\nOnly buildings where the energy usage of the installation is used for SH exclusively or for DHW and SH together. However as mentioned above, due to the high number of missing values, we also included buildings where this information was absent.\n\n\n\n3.2.4 Modelling\nIn this step of the CRISP-DM process, we defined the approaches and workflow for modelling the HEC. As it was not clear from the beginning which approach and algorithm will lead to the best results, our modelling process started with an explorative phase where different approaches and algorithms were tested and compared. Based on this results, we then conducted a second modelling phase that focused on training the algorithms on more homogeneous subsets of the data. The last step of the modelling process then was dedicated to the model explainability. In the following Section 3.2.4.1, we introduce two different approaches that were used during the exploration phase. Section Section 3.2.4.2 presents the modelling workflow in detail.\n\n3.2.4.1 Modelling approaches\nThe model exploration was conducted in two different ways: First, a custom approach was used. Here, the algorithms, preprocessing steps and also hyperparameter tuning was manually specified7. This offers a high level of control and flexibility. During the custom approach, we trained the model with the following algorithms: MLR, KNN, linear SVM, radial SVM, polynomial SVM, XGBoost and ANN. For hyperparamter tuning, a regular grid search approach with 5-fold cross-validation was used8.\nSecond, we made use of automated machine learning (AutoML)9. The AutoML approach takes care of data preprocessing, feature engineering and model selection. Thus, this approach requires much less manual work throughout the modelling process. However, there is also less control and transparency throughout the modelling .process and more time has to be invested in the subsequent model understanding and explainability.\n\n\n3.2.4.2 Modelling workflow\nThe modelling workflow was guided by the research questions as defined in Section 1.4 and consisted of three steps: First, all the available buildings after applying the filters defined in Section 3.2.3 were used for modelling. Based on this dataset, we trained the models with the custom approach as well as with the AutoML approach and evaluated and compared the results on the train set based on the metrics defined in Section 2.410. In this step, we also explored different selections of predictor variables in order to evaluate the influence of specific predictors (e.g. retrofit). Figure 3.3 provides an overview of this first step of the modelling workflow.\n\n\n\nFigure 3.3: Model exploration (step 1).\n\n\n\nThe second step of the modelling workflow then focused on the sub-questions RQ1.1 and RQ1.2 Section 1.4: Can we achieve a higher accuracy than the current approach and does the models perform better if we train on more homogeneous subsets of data? We here used the approach with the best performance in step one and divided the dataset into different subsets: By building class, by municipality, by construction period and by survey year. Again, the models were then evaluated based on the metrics defined in Section 2.4. As we here modeled subsets that have different underlying distributions of the HEC, the relative metrics of MAPE (Equation 2.6) and CV (Equation 2.8) were used for comparison. Furthermore, we calculated the aggregated error (Equation 2.9) on municipality level in order to compare it with the error of the current approach.\n\n\n\nFigure 3.4: Modelling on subsets (step 2).\n\n\nFinally, the last step of the modelling workflow focused on RQ2.1 and RQ2.1: What influence do the additionally integrated predictor variables have on the model? Thus, this last step focused on model understanding and explainability. To answer these questions, we used the approaches defined in Section 2.5: A analysis of the variable importance was carried out to evaluate the predictive power of the individual predictor variables. Furthermore, the approach of Shapley Additive Explanations (SHAP) was used to gain more detailed insights on the level of individual predictions.\n\n\n\nFigure 3.5: Model understanding (step 3).\n\n\n\n\n\n3.2.5 Evaluation\nThe evaluation in the first step of the modelling workflow consisted on the comparison of the metrics on the train data between the custom approach and the AutoML approach. Based on this, the evaluation in the further stages of the workflow was carried out by using the metrics defined in Section 2.4 on the test set.\n\n\n3.2.6 Model deployment\nThe model deployment is not part of this master thesis. However, we will discuss the results of the work with the relevant stakeholders in the Cantons of Basel-Landschaft and Basel-Stadt and evaluate whether and how the models will be incorporated into the future cantonal energy statistics.\n\n\n\n\nFryda, T., LeDell, E., Gill, N., Aiello, S., Fu, A., Candel, A., … H2O.ai. (2023). h2o: R interface for the ’H2O’ scalable machine learning platform. Retrieved from https://cran.r-project.org/web/packages/h2o/index.html\n\n\nHotz, N. (2022, February 22). What is the data science process? Retrieved from https://www.datascience-pm.com/data-science-process/\n\n\nKuhn, M., & Wickham, H. (2023). Tidymodels. Retrieved from https://cran.r-project.org/web/packages/tidymodels/index.html\n\n\nOECD. (2023a). Demography - Elderly population. Retrieved from http://data.oecd.org/pop/elderly-population.htm\n\n\nOECD. (2023b). Demography - Young population. Retrieved from http://data.oecd.org/pop/young-population.htm\n\n\nSilge, J., & Kuhn, M. (2023). Tidy modeling with r. Retrieved from https://www.tmwr.org/\n\n\nStatistisches Amt des Kantons Basel-Stadt. (2017). Energiestatistik: Konzeptioneller und methodischer Leitfaden (p. 42). Basel.\n\n\nWirth, R., & Hipp, J. (2000). Crisp-dm: Towards a standard process modell for data mining. In. Retrieved from https://www.semanticscholar.org/paper/Crisp-dm%3A-towards-a-standard-process-modell-for-Wirth-Hipp/48b9293cfd4297f855867ca278f7069abc6a9c24"
  },
  {
    "objectID": "04-Results.html#sec-descriptive-statistics",
    "href": "04-Results.html#sec-descriptive-statistics",
    "title": "4  Results",
    "section": "4.1 Descriptive statistics",
    "text": "4.1 Descriptive statistics\nTo gain a first overview of the data that we use for modelling, we here present the summary statistics and visual exploration of the data. The final dataset for modelling is the result of joining data from different sources that are provided in Section 3.1. Furthermore, we applied several filters that are outlined in Section 3.2.3. We first present a summary statistics overview of all variables used for modelling, followed by a exploratory analysis. Specifically, we will have a closer look at the characteristics of the 20 municipalities that are represented in the data. Exploring characteristics and potential differences on the municipal level can sustain the modelling process by providing insights into the distribution and variability of energy consumption patterns among different municipalities.\n\nSummary statistics overview\nThe final dataset for modelling contains 48829 observations (gas-heated buildings). As we consider data from the years 2016, 2018 and 2020, one building can be present in the dataset three times at maximum. Table 4.1 provides the summary statistics for all numeric variables. Only the mean number of residents and the social indicators based on STATPOP do contain missing values (with complete rates between 0.97 and 0.99). The distribution of the heated area shows that the dataset contains very small as well as very large buildings ranging from only 35 m2 up to 44502 m2 with a median value of 207 m2.\n\n\n\n\nTable 4.1: Summary statistics of numeric variables.\n\n\n\n\n\n\n\n\n\n\n\n\nVariable Name\nMissing Values\nComplete Rate\nMin\n25%\n50%\n75%\nMax\n\n\n\n\nHEPI (kWh/m2*year)\n0\n1.00\n20\n62\n86\n118\n300\n\n\nHEC (kWh/year)\n0\n1.00\n1300\n12770\n18510\n28312\n3958660\n\n\nMean number of residents\n1287\n1.00\n1\n2\n3\n4\n175\n\n\nHeated area (m2)\n0\n1.00\n35\n153\n207\n306\n44502\n\n\nYear of installation\n0\n1.00\n1958\n2001\n2003\n2009\n2020\n\n\nEfficiency of installation\n0.00\n1.00\n0.85\n0.85\n0.95\n0.95\n0.95\n\n\nConstruction year\n0\n1.00\n1582\n1949\n1974\n1991\n2020\n\n\nMeters above sea level\n0\n1.00\n252\n289\n305\n331\n446\n\n\nHeating degree days\n0\n1.00\n2507\n2507\n2619\n3024\n3024\n\n\nForeign resident ratio\n257.00\n0.99\n0.00\n0.11\n0.17\n0.27\n1.00\n\n\nRatio of households with one person\n258.00\n0.99\n0.00\n0.19\n0.27\n0.38\n1.00\n\n\nElderly resident ratio\n1193.00\n0.98\n0.00\n0.27\n0.38\n0.52\n1.00\n\n\nYouth resident ratio\n281.00\n0.99\n0.00\n0.17\n0.23\n0.30\n1.00\n\n\nRatio of residents less than 1 year\n257.00\n0.99\n0.00\n0.00\n0.05\n0.09\n1.00\n\n\n\n\n\n\nTable 4.2 shows the categorical variables used for modelling. The categorical variables do not contain any missing values. The survey year contains the three levels 2016, 2020 and 2018. The variables Retrofitted and Stand Alone are binary variables containing levels no and yes (0 and 1, respectively). In the case of case of the Municipality Name and Construction Period, the levels are represented by the respective municipality or construction period.\n\n\n\n\nTable 4.2: Summary statistics of categorical variables.\n\n\nVariable Name\nMissing Values\nLevels\n\n\n\n\nSurvey Year\n0\n3\n\n\nMunicipality Name\n0\n20\n\n\nBuilding Class\n0\n3\n\n\nConstruction Period\n0\n13\n\n\nRetrofitted\n0\n2\n\n\nStand Alone\n0\n2\n\n\n\n\n\n\n\nExplorative analysis\nTable 4.3 shows the mean of HEPI and the total HEC in GWh per year for the survey years of 2016, 2018 and 2020. We can observe that both the mean HEPI and the total HEC is decreasing from 2016 to 2020.\n\n\n\n\nTable 4.3: Number of buildings per survey year.\n\n\nSurvey Year\nCount\nMean HEPI (kWh/m2/year)\nTotal HEC (GWh/year)\n\n\n\n\n2016\n16516\n100.2\n520.7\n\n\n2018\n16071\n95.2\n476.0\n\n\n2020\n16242\n89.1\n458.8\n\n\n\n\n\n\nThe buildings are located in 20 different municipalities of the Canton Basel-Landschaft. Figure 4.1 shows the number of buildings per municipality. The three municipalities Reinach, Allschwil and Muttenz contain more than 5000 observations each and count together for about one third of the all buildings. On the other hand, we also observe the presence of smaller municipalities like Schönenbuch, Pfeffingen and Augst that only count a few hundert buildings in the dataset.\n\n\n\n\n\nFigure 4.1: Number of buildings per municipality.\n\n\n\n\nFigure 4.2 provides a boxplot of the HEPI per municipality. The median values of HEPI range from 77.0 kWh/m2*year (Liestal) up to 94.0 kWh/m2*year (Münchenstein).\n\n\n\n\n\nFigure 4.2: Boxplot of HEPI per municipality.\n\n\n\n\nIn Table 4.4 the mean and median values of HEPI and HEC are summarized for each municipality. Again, we observe that there are clear differences in the distributions of HEPI and HEC among the municipalities.\n\n\n\n\nTable 4.4: Mean and median values of HEC and HEPI per municipality.\n\n\nMunicipality\nMean HEPI\nMedian HEPI\nMean HEC\nMedian HEC\n\n\n\n\nAesch (BL)\n95.2\n86.0\n44032.6\n18620\n\n\nAllschwil\n99.2\n89.7\n33070.2\n19830\n\n\nArlesheim\n101.5\n92.9\n39663.2\n24080\n\n\nAugst\n90.9\n85.9\n38439.5\n19180\n\n\nBinningen\n100.2\n91.3\n37387.6\n25860\n\n\nBirsfelden\n95.3\n88.0\n34428.2\n22795\n\n\nBottmingen\n95.7\n86.9\n29512.9\n21830\n\n\nEttingen\n91.6\n83.2\n26079.2\n16920\n\n\nFrenkendorf\n87.1\n78.1\n28650.4\n17760\n\n\nFüllinsdorf\n89.6\n81.8\n28418.8\n18825\n\n\nLausen\n91.6\n82.6\n21677.4\n16310\n\n\nLiestal\n87.8\n77.0\n29359.3\n19220\n\n\nMünchenstein\n102.0\n94.0\n26692.3\n18690\n\n\nMuttenz\n92.0\n84.3\n27668.5\n16880\n\n\nOberwil (BL)\n93.7\n84.2\n31289.4\n18860\n\n\nPfeffingen\n90.3\n80.5\n23183.4\n18915\n\n\nPratteln\n97.5\n88.5\n30969.9\n17860\n\n\nReinach (BL)\n94.8\n86.4\n25638.7\n14770\n\n\nSchönenbuch\n84.9\n77.9\n17244.8\n14400\n\n\nTherwil\n86.0\n78.1\n22874.2\n15895\n\n\n\n\n\n\nFigure 4.3 shows that there are also considerable differences in the age of the building stock between the municipalities. While in Schönenbuch, 50% of the buildings are built after 1996, the median construction year of Birsfelden is 1926.\n\n\n\n\n\nFigure 4.3: Boxplot of construction year per municipality.\n\n\n\n\n\nRetrofit information\n\n\n\nWith regard to retrofit information, we observe 5417 buildings that could be matched with a retrofit measure. This represents 11.09 % of all the buildings in the data that we used for modelling.\nThe retrofit data considers retrofit measures that have been financially supported by the cantonal subsidies program (Baselbieter Energiepaket) since 2009. A first explorative way of analyzing the effect of retrofit measures consists in comparing the mean HEPI of retrofitted building and non-retrofitted buildings. Table 4.5 shows the mean HEPI per survey year and building class. For all years and building classes, the mean HEPI of retrofitted buildings is lower. Furthermore, a more important difference in average HEPI between retrofitted and non-retrofitted buildings can be observed for MFH (buildings with two or more apartments) over the course of all three years. This could potentially indicate that retrofit measures are more effective in terms of energy consumption reduction for MFH in comparison to SFH.\n\n\n\n\nTable 4.5: Mean HEPI of retrofitted versus non-retrofitted buildings.\n\n\n\n\n\n\n\n\n\nSurvey Year\nBuilding class\nNot retrofitted\nRetrofitted\nDifference in %\n\n\n\n\n2016\nBuilding with one apartment\n101.1\n97.5\n-3.6\n\n\n2016\nBuilding with two apartments\n96.5\n87.6\n-9.3\n\n\n2016\nBuilding with three or more apartments\n99.2\n91.1\n-8.2\n\n\n2018\nBuilding with one apartment\n96.4\n93.1\n-3.5\n\n\n2018\nBuilding with two apartments\n91.4\n79.2\n-13.4\n\n\n2018\nBuilding with three or more apartments\n93.5\n84.1\n-10.1\n\n\n2020\nBuilding with one apartment\n90.2\n87.7\n-2.8\n\n\n2020\nBuilding with two apartments\n85.9\n76.6\n-10.8\n\n\n2020\nBuilding with three or more apartments\n87.8\n78.7\n-10.3"
  },
  {
    "objectID": "04-Results.html#sec-model-results",
    "href": "04-Results.html#sec-model-results",
    "title": "4  Results",
    "section": "4.2 Model results",
    "text": "4.2 Model results\n\n4.2.1 Results of model exploration\nAccording to the modelling workflow defined in Section 3.2.4.2, the first step of the modelling process focuses on the exploration of different models by using the custom approach and the AutoML approach. We first compare the two approaches based on performance on the train data. Table 4.6 shows the metrics of the algorithms used in the custom approach. In the case of the custom approach, XGBoost obtains the highest value for R2 and at the same time the lowest RMSE value. Table 4.8 shows the metrics of the models trained with the AutoML approach. Here, the GBM model provides the best results. Based on RMSE, we observe that the AutoML approach performs clearly better than the custom approach: For all AutoML models except GLM, the RMSE is lower than the RMSE of the custom approach models. Based on this findings during the model exploration, we decided to focus on the AutoML approach exclusively for the subsequent modelling steps.\n\n\n\n\nTable 4.6: Train metrics of custom approach.\n\n\nAlgorithm\nR2\nRMSE\n\n\n\n\nXGBoost\n0.84\n27169.39\n\n\nSVM polynomial\n0.82\n28243.14\n\n\nRF\n0.80\n33445.27\n\n\nLinear regression\n0.82\n34984.42\n\n\nSVM radial\n0.79\n37152.16\n\n\nKNN\n0.70\n41014.14\n\n\nNeural Network\n0.47\n51827.42\n\n\n\n\n\n\n\n\n\n\n\n\n\nTable 4.7: Train metrics of AutoML approach.\n\n\nAlgorithm\nRMSE\nMAE\nn_test/ntrain\n\n\n\n\nStacked Ensemble\n20160.13\n6581.52\n12185/36555\n\n\nGBM\n20217.14\n6055.46\n12185/36555\n\n\nXGB\n21456.17\n6073.36\n12185/36555\n\n\nDRF\n23303.09\n6938.10\n12185/36555\n\n\nDeepLearning\n25171.48\n9121.66\n12185/36555\n\n\nGLM\n66596.55\n21159.79\n12185/36555\n\n\n\n\n\n\n\nResults on test data with all predictors\nTable 4.8 presents the results after performing the estimations on the test set using all predictors. In general, we observed that the values for RMSE and MAE are comparable to the values on the train data provided in Table 4.7 and thus did not detect any hint for overfitting on the train data. The GBM models showed the best overall performance, having the highest R2 value of 0.86 and the lowest RMSE (18796) and CV (0.64). When considering MAE and MAPE however, DRF and Stacked Ensemble perform slightly better. In this context, it is important to note that RMSE is more sensitive to outliers as it squares the errors before averaging. Thus, while GBM might provide better predictions for buildings with a very high HEC, the Stacked Ensemble or DRF potentially provide better results when the main focus is to minimize the average error.\n\n\n\n\nTable 4.8: Test metrics of the best performing model per AutoML algorithm evaluated on RMSE.\n\n\nAlgorithm\nR2\nRMSE\nMAE\nMAPE\nCV\nntrain/ntest\n\n\n\n\nGBM\n0.86\n18796.45\n7916.89\n26.97\n0.64\n36555/12185\n\n\nXGB\n0.84\n20506.81\n7999.34\n27.25\n0.70\n36555/12185\n\n\nStacked Ensemble\n0.83\n20723.59\n7310.17\n24.90\n0.71\n36555/12185\n\n\nDRF\n0.82\n21206.08\n7159.74\n24.39\n0.72\n36555/12185\n\n\nDeep Learning\n0.77\n24451.23\n8871.63\n30.22\n0.83\n36555/12185\n\n\nCurrent Approach\n0.75\n26874.14\n10128.72\n37.88\nNA\n36555/12185\n\n\nGLM\n0.00\n50626.48\n20736.21\n70.64\n1.72\n36555/12185\n\n\n\n\n\n\n\nInfluence of variable selection\nAs a last step of the model exploration phase, we tested the performance with different variable selections (see Figure 3.3). Five different predictor selections were tested in this step:\n\nAll predictors as shown in Table 4.1 and Table 4.2\nOnly a basic selection of predictors (number of residents, heated area, construction year of installation, building class, construction year of building and heating degree days).\nAll predictors without the retrofit variable\nAll predictors without the stand alone variable\nAll predictors without the social indicators (ratio of foreign residents, elderly ratio, youth ratio, ratio of residents less than 1 year)\n\nTable 4.9 compares the best performing model of each variable selection based on RMSE. For all variable selections, GBM showed the best performance in terms of RMSE (see also appendix Section B.6). Regarding the variable selections, the model without social indicators did provide the best results for all the metrics. This does not necessarily indicate that socio-economic factors have no influence on energy consumption. More likely, it shows that the spatial resolution of the input data is not precise enough to improve the performance of our model.\nFurthermore, we observed that the models without the retrofit variable and without the information if a building is connected to another building have a slightly higher RMSE than the model using all predictors. However, MAE and MAPE of these two selections were on a similar level as the model using all predictors. Although the model with only the basic predictors showed the poorest performance for all metrics, it is notable that only a basic set of six predictors still delivered a good performance. This indicates that these predictors are fundamental for predicting HEC.\n\n\n\n\nTable 4.9: Comparing variable selections: Best perfomance for each variable selection based on RMSE.\n\n\n\n\n\n\n\n\n\n\n\n\nVariable Selection\nAlgorithm\nR2\nRMSE\nMAE\nMAPE\nCV\nntrain/ntest\n\n\n\n\nWithout social indicators\nGBM\n0.88\n17727.96\n6520.89\n22.21\n0.60\n36555/12185\n\n\nAll predictors\nGBM\n0.86\n18796.45\n7916.89\n26.97\n0.64\n36555/12185\n\n\nWithout retrofit variable\nGBM\n0.85\n19680.92\n7876.90\n26.83\n0.67\n36555/12185\n\n\nWithout stand alone variable\nGBM\n0.84\n19991.96\n8010.64\n27.29\n0.68\n36555/12185\n\n\nOnly basic predictors\nGBM\n0.84\n20175.04\n7703.80\n26.24\n0.69\n36555/12185\n\n\n\n\n\n\n\n\n4.2.2 Results on data subsets\nThis section presents the results of the second step of our modelling workflow, where different subsets of data were used to train the models. As a result of our findings in the previous step, we used the best performing variable selection and therefore excluded the social indicators for modelling on subsets. All the metrics shown in this section are referring to the respective test data. Although all metrics are provided in the following, it is important to note that the different subsets have different distributions of the HEC and absolute metrics cannot be directly compared. We therefore mainly focus on the relative metrics MAPE and CV for evaluation.\n\nBuilding class subsets\nFirst, we focus on the results obtained by differentiating based on the building class. The initial dataset for modelling was divided into three subclasses: SFH, MFH with two apartments and MFH with three or more apartments. Table 4.10 illustrates the metrics for SFH, Table 4.11 for MFH with two apartments and finally Table 4.12 for MFH with three or more apartments. Although the best performing model differs for each building class, Stacked Ensembles, GBM and XGB showed similar results in all three cases.\n\n\n\n\nTable 4.10: Test metrics of SFH.\n\n\n\n\n\n\n\n\n\n\n\n\nBuilding class\nAlgorithm\nR2\nRMSE\nMAE\nMAPE\nCV\nntrain/ntest\n\n\n\n\n1110\nStacked Ensemble\n0.79\n5015.24\n3199.77\n17.65\n0.28\n28776/9592\n\n\n1110\nXGB\n0.79\n4953.16\n3274.80\n18.06\n0.27\n28776/9592\n\n\n1110\nGBM\n0.78\n5046.89\n3429.59\n18.92\n0.28\n28776/9592\n\n\n1110\nDRF\n0.69\n6068.11\n4205.94\n23.20\n0.33\n28776/9592\n\n\n1110\nDeep Learning\n0.54\n7331.37\n5033.02\n27.76\n0.40\n28776/9592\n\n\n1110\nGLM\n0.00\n10824.65\n7199.59\n39.71\n0.60\n28776/9592\n\n\n\n\n\n\n\n\n\n\nTable 4.11: Test metrics of MFH with two apartments.\n\n\n\n\n\n\n\n\n\n\n\n\nBuilding class\nAlgorithm\nR2\nRMSE\nMAE\nMAPE\nCV\nntrain/ntest\n\n\n\n\n1121\nGBM\n0.74\n6746.84\n4439.93\n15.62\n0.24\n1986/662\n\n\n1121\nXGB\n0.72\n7037.36\n4525.79\n15.92\n0.25\n1986/662\n\n\n1121\nStacked Ensemble\n0.72\n7074.53\n4509.05\n15.86\n0.25\n1986/662\n\n\n1121\nDRF\n0.60\n8384.73\n6142.90\n21.61\n0.29\n1986/662\n\n\n1121\nDeep Learning\n0.46\n9752.77\n7036.98\n24.76\n0.34\n1986/662\n\n\n1121\nGLM\n0.00\n13306.59\n9994.88\n35.16\n0.47\n1986/662\n\n\n\n\n\n\n\n\n\n\nTable 4.12: Test metrics of MFH with three or more apartments.\n\n\n\n\n\n\n\n\n\n\n\n\nBuilding class\nAlgorithm\nR2\nRMSE\nMAE\nMAPE\nCV\nntrain/ntest\n\n\n\n\n1122\nXGB\n0.89\n33338.61\n18205.31\n20.79\n0.38\n5622/1874\n\n\n1122\nGBM\n0.88\n34792.97\n19556.81\n22.34\n0.40\n5622/1874\n\n\n1122\nStacked Ensemble\n0.87\n36812.65\n18147.32\n20.73\n0.42\n5622/1874\n\n\n1122\nDRF\n0.85\n39124.63\n21816.34\n24.92\n0.45\n5622/1874\n\n\n1122\nDeep Learning\n0.75\n50029.00\n28236.52\n32.25\n0.57\n5622/1874\n\n\n1122\nGLM\n0.00\n100395.76\n56912.65\n65.00\n1.15\n5622/1874\n\n\n\n\n\n\nIn Table 4.9, the best model on all data reached a MAPE of 22.62 and a CV of 0.63. By modelling on building class subsets, we obtained a lower MAPE and CV values in all three cases as shown in Figure 4.4. In the case of SFH and MFH with two flats, the MAPE decreased to 17.65 and 15.62, respectively. For MFH with three or more flats, the best model showed a MAPE of 20.79. Thus, we can conclude that modelling on building class subsets could improve the results.\n\n\n\n\n\nFigure 4.4: Comparison of MAPE for best model per building class.\n\n\n\n\n\n\n\n\n\n\n\nMunicipality subsets\nIn the same way as with the building class, we also trained the models for each of the 20 municipalities. Table 4.13 provides the results for each municipality. It’s important to highlight that some municipalities, such as Augst and Pfeffingen, contain a relatively low number of observations. Typically, a larger number of observations guarantees more stability and reliability of the metrics. Therefore, the results for municipalities with fewer observations should be interpreted cautiously. Nevertheless, for providing a complete picture of the results, we decided to include these results as well. With regard to the algorithms, GBM and XGB provide the best values for MAPE and and CV for most municipalities.\n\n\n\n\nTable 4.13: Test metrics per municipality.\n\n\n\n\n\n\n\n\n\n\n\n\nMunicipality\nAlgorithm\nR2\nRMSE\nMAE\nMAPE\nCV\nntrain/ntest\n\n\n\n\nAugst\nGBM\n0.99\n16077.48\n7408.76\n12.85\n0.28\n111/37\n\n\nFüllinsdorf\nXGB\n0.98\n7169.87\n3837.79\n13.18\n0.25\n957/319\n\n\nPfeffingen\nGBM\n0.88\n4043.85\n2727.78\n13.25\n0.20\n447/149\n\n\nFrenkendorf\nXGB\n0.99\n10585.85\n4934.98\n14.36\n0.31\n1161/387\n\n\nSchönenbuch\nGBM\n0.90\n3944.01\n2610.98\n15.33\n0.23\n480/160\n\n\nEttingen\nGBM\n0.94\n9770.54\n4297.68\n16.49\n0.37\n1044/348\n\n\nMünchenstein\nGBM\n0.98\n8882.26\n4811.20\n16.56\n0.31\n2928/976\n\n\nLausen\nXGB\n0.91\n7274.07\n3678.28\n17.50\n0.35\n1311/437\n\n\nBottmingen\nXGB\n0.89\n7974.88\n5065.44\n17.63\n0.28\n1590/530\n\n\nMuttenz\nXGB\n0.97\n12207.82\n5448.55\n18.63\n0.42\n3855/1285\n\n\nPratteln\nXGB\n0.95\n10685.95\n5634.70\n18.71\n0.35\n2214/738\n\n\nTherwil\nXGB\n0.91\n6324.24\n3907.73\n18.72\n0.30\n1809/603\n\n\nArlesheim\nXGB\n0.96\n34013.37\n7757.32\n18.92\n0.83\n1779/593\n\n\nBinningen\nGBM\n0.89\n13649.51\n7505.36\n19.35\n0.35\n2763/921\n\n\nLiestal\nXGB\n0.94\n12120.25\n5486.71\n19.75\n0.44\n1914/638\n\n\nReinach (BL)\nXGB\n0.84\n17118.60\n5220.36\n21.68\n0.71\n4029/1343\n\n\nAesch (BL)\nGBM\n0.95\n23599.14\n10749.08\n23.06\n0.51\n837/279\n\n\nOberwil (BL)\nXGB\n0.93\n36379.43\n7718.79\n24.50\n1.15\n2409/803\n\n\nBirsfelden\nXGB\n0.78\n27769.53\n8534.75\n25.39\n0.83\n891/297\n\n\nAllschwil\nDeep Learning\n0.89\n25793.48\n10767.27\n31.49\n0.75\n3921/1307\n\n\n\n\n\n\nSimilar to the results for the building class subsets, we generally observed better results for MAPE and CV compared to the results using all data. Figure 4.5 compares the best model for each municipality with the best MAPE when using all data. As it becomes obvious, only the municipalities of Aesch and Birsfelden showed a higher MAPE than the best model using all data.\n\n\n\n\n\nFigure 4.5: Comparison of MAPE for best model per municipality.\n\n\n\n\n\n\nConstruction period subsets\nIn case of modelling on construction period subsets, the results were more heterogeneous: With regard to the algorithms, GBM and Stacked Ensembles indicated the best performance for almost all construction periods. Only for buildings that were built between 1946-1960, Deep Learning outerperforms the other algorithms (see Table 4.14).\n\n\n\n\nTable 4.14: Test metrics per construction period.\n\n\n\n\n\n\n\n\n\n\n\n\nConstruction Period\nAlgorithm\nR2\nRMSE\nMAE\nMAPE\nCV\nntrain/ntest\n\n\n\n\n2011-2015\nGBM\n0.94\n6521.34\n3935.77\n16.50\n0.27\n744/248\n\n\n1981-1985\nGBM\n0.95\n11692.41\n4885.62\n16.51\n0.40\n2946/982\n\n\n1986-1990\nGBM\n0.94\n11195.98\n4793.12\n16.89\n0.39\n2646/882\n\n\n1919-1945\nStackedEnsemble\n0.75\n6214.66\n4288.75\n18.11\n0.26\n5325/1775\n\n\nBefore 1919\nStackedEnsemble\n0.75\n9000.32\n5388.39\n19.16\n0.32\n3282/1094\n\n\n2006-2010\nGBM\n0.95\n9490.10\n5247.23\n19.68\n0.36\n1548/516\n\n\n1971-1980\nGBM\n0.85\n22391.14\n6578.20\n20.16\n0.69\n5640/1880\n\n\n2001-2005\nStackedEnsemble\n0.90\n12211.50\n4938.16\n21.26\n0.53\n2199/733\n\n\n1961-1970\nStackedEnsemble\n0.93\n21570.17\n10102.63\n22.52\n0.48\n3243/1081\n\n\n1991-1995\nStackedEnsemble\n0.94\n43480.22\n10290.21\n26.43\n1.12\n1662/554\n\n\n1996-2000\nGBM\n0.95\n23610.00\n6931.75\n29.34\n1.00\n2772/924\n\n\nAfter 2016\nGBM\n0.86\n8011.04\n5601.97\n30.28\n0.43\n315/105\n\n\n1946-1960\nDeepLearning\n0.79\n27689.55\n9922.88\n30.61\n0.85\n4149/1383\n\n\n\n\n\n\nWe do not observe a clear tendency for a better accuracy on either newer or older buildings: The construction periods 2011-2015, 1981-1985 and 1986-1990 showed best accuracy in terms of MAPE (all around 16-17%). On the other hand, the best models for the periods 1946-1960, 1996-2000 and 2016-2020 did reach a MAPE of around 30% and also rather high CV values. Figure 4.6 shows that we obtain better MAPE results than the approach with all data for seven construction periods, while six construction periods have a higher MAPE value. Thus, we conclude that splitting the data into subsets by construction period does not necessarily lead to better results. However, we want to point out that the construction periods as defined in the RBD were used here1. This classification of construction periods does not necessarily provide a adequate division with regard to the energy consumption of buildings and their insulation quality. Thus, another classification of construction periods may provide better results.\n\n\n\n\n\nFigure 4.6: Comparison of MAPE for best model per construction period.\n\n\n\n\n\nSurvey year subsets\nTable 4.15 lists the results for modelling on survey year subsets. Deep Learning is the best performing algorithm for 2016 and 2018, reaching a MAPE of about 30%. For 2020, GBM provides the best accuracy with a MAPE of about 34%. These MAPE values are clearly higher than the lowest MAPE obtained without subsetting, as shown in Figure 4.7. Thus, splitting the data into survey year subsets does not improve the accuracy of our models.\n\n\n\n\nTable 4.15: Test metrics per survey year.\n\n\n\n\n\n\n\n\n\n\n\n\nSurvey year\nAlgorithm\nR2\nRMSE\nMAE\nMAPE\nCV\nntrain/ntest\n\n\n\n\n2016\nDeep Learning\n0.87\n32387.47\n10005.20\n30.12\n0.98\n12273/4091\n\n\n2018\nDeep Learning\n0.88\n29439.33\n9254.89\n29.61\n0.94\n11937/3979\n\n\n2020\nGBM\n0.52\n55843.33\n10051.42\n33.82\n1.88\n12063/4021\n\n\n\n\n\n\n\n\n\n\n\nFigure 4.7: Comparison of MAPE for best model per survey_year.\n\n\n\n\n\n\n\n\n\n\n\n\n\n4.2.3 Comparison with the current approach\nTo allow comparison of the model results with the current approach, we calculated the metrics of the current approach for each of the respective test sets. Figure 4.8 compares the results of the AutoML approach with the metrics of the current approach on the test set. With exception of GLM, all the algorithms of the AutoML approach reached a higher accuracy than the current approach.\n\n\n\n\n\nFigure 4.8: Comparison of AutoML results with current approach.\n\n\n\n\nIn the context of municipal energy planning, it is important to also look at the aggregated error on the level of the municipality (see Equation 2.9). The following Figure 4.9 compares the aggregated errors of the current approach and the AutoML approach on municipality level. Again, the best performing model was used for comparison (GBM on all data, without social predictors). A first important observation here is that the aggregated error on the whole test set is very low in both cases: While the current approach overestimates the total HEC by 1.5%, the GBM model underestimates the actual aggregated HEC of the test set by only 0.02%. For 11 out of the 20 municipalities, GBM predicts the HEC on municipal level more accurate than the current approach. For Arlesheim and Liestal, GBM showed the biggest improvements by lowering the error from over 10% to 0.03% (Arlesheim) and 1.09% (Liestal). For five municipalities, the error is on a comparable level for both approaches: Birsfelden, Binningen, Oberwil, Ettingen and Schönenbuch. Finally for the municipalities of Augst, Aesch, Lausen and Reinach, the current approach provides more accurate estimations of the HEC on municipal level (with an aggregated error more than one percentage point lower than GBM).\nIn conclusion, the AutoML approach demonstrates higher accuracy than the current approach, with the exception of the GLM algorithm. The GBM model that we used for comparison of the aggregated error on municipal level provides better estimation results for the majority of municipalities. However, there are specific municipalities where the current approach performs better. In these cases, further analysis and adjustments are required to improve the predictions of the AutoML approach.\n\n\n\n\n\nFigure 4.9: Comparison of aggregated APE per municipality between AutoML and current approach."
  },
  {
    "objectID": "04-Results.html#sec-results-model-explainability",
    "href": "04-Results.html#sec-results-model-explainability",
    "title": "4  Results",
    "section": "4.3 Results of model explainability",
    "text": "4.3 Results of model explainability\nAccording to the last step of the methodology, this section focuses on model explainability by presenting the results of the variable importance and SHAP analysis. For the purpose of model understanding, we used again the best performing model according to the results in Section 4.2.1 (GBM model trained on all data without the social indicators as predictors). Thus, the following analysis is not representative for all the previously presented models. Rather, it should serve as an illustrative example on providing insights for black-box models.\n\nVariable importance\nFigure 4.10 illustrates the scaled variable importance of the ten most important predictors of the GBM model.\n\n\n\nFigure 4.10: Variable importance of the ten most important variables for GBM (trained on all data).\n\n\n\n\n\nNot surprisingly and in accordance with the observations made by Olu-Ajayi et al. (2022), the heated area is clearly the most important predictor variable by contributing about 84% to the overall importance. The second important predictor is the municipality, which contributes about 7% to the overall importance. With regard to our research question RQ2.1 and RQ2.2, we can state that the retrofit predictor does not not appear in the ten most important predictors of this model. However, as shown in Table 4.5, retrofitted buildings showed a lower HEPI for all building classes. Thus, the interpretation of this observation is not straight-forward and would need further investigation: While this could lead to the conclusion that retrofitting is not important in relation to the other predictors, it could also point out that different ways of preprocessing the retrofit information is needed (e.g. using the retrofit investment costs instead of a binary variable).\n\nSHAP analysis\nTo gain insights on how a prediction of the model is composed, we used the SHAP values for local explanations. We here present two exemplary cases: First, we focus on a SFH as shown in Table 4.16. In that case, the predicted HEC value was about 5% lower than the actual HEC value.\n\n\n\n\nTable 4.16: Attributes of SFH in Aesch.\n\n\nVariable\nValue\n\n\n\n\nheated_area_m2\n112\n\n\nmunicipality_name\nAesch (BL)\n\n\nnum_residents_mean\n1.5\n\n\nsurvey_year\n2018\n\n\nconstruction_year\n1961\n\n\nstand_alone\n0\n\n\nmeters_above_sealevel\n311.8\n\n\nyear_of_installation\n2001\n\n\nefficiency_of_installation\n0.85\n\n\nbuilding_class\n1110\n\n\nretrofitted\nNo\n\n\nenergy_usage_of_installation\nRaumwärme + Warmwasser\n\n\nhec_actual\n13430\n\n\nhec_predicted\n12772.7981235536\n\n\n\n\n\n\nFigure 4.11 shows the contributions of the most important predictor variables. The mean prediction of HEC in the test data was 29379 kWh/year. From Figure 4.11, we can see that the value of 112 m2 for the variable heated area contributes about -16150 kWh/year to the prediction. The construction year of the building (1961) increases the prediction by +1460 kWh/year. Furthermore, we observe that information on retrofitting (non-retrofitted building) does only have a marginal effect on the model prediction (+148 kWh/year).\n\n\n\n\n\n\nFigure 4.11: SHAP analysis of SFH in Aesch.\n\n\n\nIn a second example, we investigated the SHAP values of a retrofitted building with a predicted HEC close to the mean prediction of 29379 kWh/year. The corresponding attributes of the building are listed in Table 4.17. In this case, the model underestimated the HEC by 8.4%. In Figure 4.12, we observe a different picture of the SHAP values.\n\n\n\n\nTable 4.17: Attributes of MFH with two apartments in Binningen.\n\n\nVariable\nValue\n\n\n\n\nheated_area_m2\n352.35\n\n\nmunicipality_name\nBinningen\n\n\nnum_residents_mean\n3\n\n\nsurvey_year\n2020\n\n\nconstruction_year\n1934\n\n\nstand_alone\n1\n\n\nmeters_above_sealevel\n313.8\n\n\nyear_of_installation\n2015\n\n\nefficiency_of_installation\n0.95\n\n\nbuilding_class\n1121\n\n\nretrofitted\nYes\n\n\nenergy_usage_of_installation\nRaumwärme + Warmwasser\n\n\nhec_actual\n32129.9999046326\n\n\nhec_predicted\n29422.1712408514\n\n\n\n\n\n\n\n\n\n\n\n\nFigure 4.12: SHAP analysis of MFH with two apartments in Binningen\n\n\nBecause the predicted HEC is very close to the mean prediction, the positive and negative contributions almost equalized each other. Again, the heated area contributed the most to the prediction. But interestingly, this negative contribution was almost equalized by the municipality (Binningen). This observation however is in line with the results of Table 4.4: Binningen has one of the highest mean values for HEPI. Another important observation was the influence of two variables stand alone and retrofitted: In this example, the information that the building has been retrofitted clearly reduced the the prediction, while the fact that the building is not connected to another building increased prediction by about 1000 kWh/year.\nBased on this observations, we conclude that binary variables retrofit and stand alone may not have a big impact on the global level of the model predictions as shown with VIA. But on the level of individual buildings, these variables can clearly influence the model’s prediction.\n\n\n\n\nBundesamt für Statistik. (2022, December 14). Merkmalskatalog GWR | eidg. Gebäude- und wohnungsregister (version 4.2.1). Retrieved from https://www.housing-stat.ch/de/help/42.html\n\n\nOlu-Ajayi, R., Alaka, H., Sulaimon, I., Sunmola, F., & Ajayi, S. (2022). Building energy consumption prediction for residential buildings using deep learning and other machine learning techniques. Journal of Building Engineering, 45, 103406. http://doi.org/10.1016/j.jobe.2021.103406"
  },
  {
    "objectID": "05-Discussion_Conclusion.html",
    "href": "05-Discussion_Conclusion.html",
    "title": "5  Discussion & Conclusion",
    "section": "",
    "text": "In this chapter, we discuss the results presented Chapter 4 with regard to our research questions defined in Section 1.4. Furthermore, we conclude by presenting the main challenges and giving recommendations for further research and practical implications of this study.\nIn Section 1.4, we defined the first main research question and two corresponding sub-questions as follows:\n\nRQ1: Which model or set of models can achieve the highest accuracy in estimating the heat energy consumption (HEC) of residential buildings?\nRQ1.1: Can we achieve a higher accuracy in estimating heat energy consumption (HEC) of residential buildings compared to the current approach?\nRQ1.2: Can we improve the predictions through feature engineering (e.g. adding new predictor variables) or by training models on different data subsets?\n\nThe results of the model exploration presented in Section 4.2.1 showed that in our use case, the highest accuracy could be achieved with the AutoML approach. While the results with the AutoML approach were clearly better than with the custom approach, we did not find an unambiguous answer about the best performing AutoML algorithm. The best performing algorithm changed depending on the metric considered: While GBM generally provided good results with regard to RMSE and CV, other algorithms such as Stacked Ensembles and XGB could provide lower values for MAE and MAPE. However, with regard to RQ1 we can state that overall, the following algorithms provided the best results on a comparable level: DRF, GBM, Stacked Ensembles and XGB.\nWe showed in Section 4.2.3 that the current approach overestimated the HEC on the test set by only 1.5% and also provides good results on municipal level in some cases. As illustrated in Figure 4.8 however, the algorithms of the AutoML approach provided a higher accuracy on the test set as well as on a aggregated level for a majority of municipalities. Thus we can conclude with regard to RQ1.1 that the current approach provides good results on a cantonal and in some cases also on municipal level, but the black-box models used in this study provide more accurate results on all levels (on all test data, per municipality and also per building).\nWenninger & Wiethe (2021) provided results of different algorithms in the context of single and two-family buildings in Germany with CV values ranging from 0.33 to 0.35 and MAPE values from 27.5% to 33.0%. This can be compared to our results presented for the subsets on building class in Table 4.10 and Table 4.11, where CV values are between 0.24 and 0.60 and MAPE values between 15.6% (GBM) and 39.7% (GLM).\nGubser (2022) presented HEC prediction models on residential buildings in the cities of Biel, Geneva and St.Gallen and obtained CV values between 0.44 and 0.83 and MAPE values between 19% and 44% for the most accurate model (Random Forest Regressor). The metrics for all residential buildings in our use case as presented in Table 4.9 were in a similar range. However when modelling on subsets, the values decreased for CV (lowest: 0.20) as well as for MAPE (lowest: 12.9%).\nConcerning RQ1.2, the results in Section 4.2.2 indicated that modelling on data subsets does not improve the results in all cases. Training models for each construction period could only provide better results for some cases, while in other cases the MAPE was higher than the best MAPE using all data. By splitting the data into the three different survey years, the MAPE increased clearly. However, modelling on subsets by building class and municipality could improve the results and provide more accurate predictions in most cases.\nThe second main research question and its corresponding sub-questions were defined as follows:\n\nRQ2: What predictors are the most important for the prediction of HEC in the final model?\nRQ2.1: What importance can be attributed to retrofit features?\nRQ2.2: What importance can be attributed to socio-economic features in the model?\n\nIn Section 4.2.1 we obtained a first hint regarding RQ2. By modelling with five different variable selections, we could show that the best accuracy is achieved without social indicators. However, we do not conclude that socio-economic factors do not influence the HEC, but rather that information on hectare level is not detailed enough to predict HEC for individual buildings. Since there was no socio-economic data available on building level, it was not possible to investigate further on this question. With regard to RQ2, the VIA in Section 4.3 indicated that, on a global level, the heated area is by far the most important predictor variable. Although other predictors had clearly lower influence on the model’s prediction, the VIA attributed some importance to the municipality and the number of residents. Considering RQ2.1, we conclude that on a global level, only a low importance can be attributed to the retrofit information. However, the SHAP analysis of individual predictions illustrated that the information about retrofitting and building connectivity can have a substantial influence on individual predictions. During data preprocessing, the integration of retrofit information was a particular challenge. The raw data from the Baselbieter Energiepaket contained a lot of information and included different types of retrofit measures. In this study, we integrated the information as a binary variable if a building has been retrofitted or not. In Table 4.5 we could show that retrofitted buildings generally have a lower HEPI than non-retrofitted buildings. However, the effect of the different retrofit measures is not always evident.\nFrom a more practical perspective, we can outline the following implications of this study for the cantonal energy statistics: First, the study provides a possible solution for the integration of additional data sources - in particular the information about retrofitting and building connectivity. These sources could be integrated into the statistics without a major methodological change of the current approach. Second, the study shows that differentiating between municipalities lead to better results and can reduce the estimation error on municipality level. Therefore, we recommend to consider differences between municipalities more explicitly in the current approach. Finally, Section 4.2.3 illustrates that machine learning methods generally provide a higher estimation accuracy than the current approach. This finding should be discussed the context of future surveys. As a first step in this direction, we recommend using the approach of the this study for the next survey of the statistics and to compare the results with the current approach. This can serve as a decision basis for the further methodological development of the statistics.\n\n\n\n\nGubser, A. (2022). Modelling the energy demand of individual buildings in switzerland. Retrieved from https://github.com/andygubser/buildings-energy-modelling-docs/blob/de8e7ce264c2c47bb10ff4c8a153b316eaa81962/MT_Buildings_Energy_Modelling.pdf\n\n\nWenninger, S., & Wiethe, C. (2021). Benchmarking Energy Quantification Methods to Predict Heating Energy Performance of Residential Buildings in Germany. Business & Information Systems Engineering, 63(3), 223–242. http://doi.org/10.1007/s12599-021-00691-2"
  },
  {
    "objectID": "00-list-of-abbrevations.html",
    "href": "00-list-of-abbrevations.html",
    "title": "List of Abbreviations",
    "section": "",
    "text": "Abbreviation\nDefinition\n\n\n\n\nAutoML\nAutomated Machine Learning\n\n\nANN\nArtificial neural network\n\n\nAPI\nAutomatic Programming Interface\n\n\nCO2\nCarbon dioxide\n\n\nCV\nCoefficient of Variation\n\n\nCRISP-DM\nCross-Industry Standard Process for Data Mining\n\n\nDEM\nDigital elevation model\n\n\nDHW\nDomestic hot water\n\n\nDRF\nDistributed Random Forest\n\n\nEGID\nSwiss Building Identification Number\n\n\nERA\nEnergy reference area\n\n\nGFA\nGross floor area\n\n\nGBM\nGradient Boosting Machine\n\n\nGLM\nGeneralized Linear Model\n\n\nGWh\nGigawatt hours\n\n\nHEC\nHeating Energy Consumption\n\n\nHEPI\nHeating Energy Performance Indicator\n\n\nIPCC\nIntergovernmental Panel on Climate Change\n\n\nKNN\nK-nearest neighbour\n\n\nKWh\nKilowatt hours\n\n\nMAE\nMean Absolute Error\n\n\nMAPE\nMean Absolute Percentage Error\n\n\nMFH\nMulti-Family House\n\n\nMLR\nMultiple linear regression\n\n\nOECD\nOrganisation for Economic Co-operation and Development\n\n\nRBD\nRegister of Buildings and Dwellings\n\n\nRMSE\nRoot Mean Square Error\n\n\nR2\nCoefficient of Determination\n\n\nSH\nSpace heating\n\n\nSFH\nSingle-Family House\n\n\nSHAP\nShapley Additive Explanations\n\n\nSTA BL\nCantonal Office of Statistics Basel-Landschaft\n\n\nSTATPOP\nPopulation and Households Statistics\n\n\nVIA\nVariable importance analysis\n\n\nXGB\nExtreme Gradient Boosting"
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "Bibliography",
    "section": "",
    "text": "Amasyali, K., & El-Gohary, N. M. (2018). A review of data-driven\nbuilding energy consumption prediction studies. Renewable and\nSustainable Energy Reviews, 81, 1192–1205.\nhttp://doi.org/10.1016/j.rser.2017.04.095\n\n\nBourdeau, M., Zhai, X. qiang, Nefzaoui, E., Guo, X., & Chatellier,\nP. (2019). Modeling and forecasting building energy consumption: A\nreview of data-driven techniques. Sustainable Cities and\nSociety, 48, 101533. http://doi.org/https://doi.org/10.1016/j.scs.2019.101533\n\n\nBundesamt für Statistik. (2022, December 14). Merkmalskatalog GWR |\neidg. Gebäude- und wohnungsregister (version 4.2.1). Retrieved from https://www.housing-stat.ch/de/help/42.html\n\n\nBundeskanzlei. (2023, December 5). Resultate der Abstimmung über das\nBundesgesetz vom 25.09.2020 über die Verminderung von\nTreibhausgasemissionen (CO2-Gesetz). Retrieved from https://www.bk.admin.ch/bk/de/home/politische-rechte/pore-referenzseite.html\n\n\nChalal, M. L., Benachir, M., White, M., & Shrahily, R. (2016).\nEnergy planning and forecasting approaches for supporting physical\nimprovement strategies in the building sector: A review. Renewable\nand Sustainable Energy Reviews, 64, 761–776.\nhttp://doi.org/10.1016/j.rser.2016.06.040\n\n\nDeb, C., & Schlueter, A. (2021). Review of data-driven energy\nmodelling techniques for building retrofit. Renewable and\nSustainable Energy Reviews, 144, 110990. http://doi.org/10.1016/j.rser.2021.110990\n\n\nDong, B., Li, Z., Rahman, S. M. M., & Vega, R. (2016). A hybrid\nmodel approach for forecasting future residential electricity\nconsumption. Energy and Buildings, 117, 341–351.\nhttp://doi.org/10.1016/j.enbuild.2015.09.033\n\n\nEconomic, D. of, & Social Affairs Statistics Division. (2018).\nInternational Recommendations for Energy Statistics (IRES) (p.\n168). New York. Retrieved from https://unstats.un.org/unsd/energystats/methodology/documents/IRES-web.pdf\n\n\nEymann, L., Rohrer, J., & Stucki, M. (2014). Energieverbrauch der\nSchweizer Kantone : Endenergieverbrauch und Mittelabfluss durch den\nEnergie-Import. http://doi.org/10.21256/zhaw-124\n\n\nFederal Council of Switzerland. (2021). Langfristige klimastrategie\nder schweiz. Retrieved from https://www.bafu.admin.ch/dam/bafu/de/dokumente/klima/fachinfo-daten/langfristige-klimastrategie-der-schweiz.pdf.download.pdf/Langfristige%20Klimastrategie%20der%20Schweiz.pdf\n\n\nFederal Office for the Environment. (2019). Federal council aims for a\nclimate-neutral switzerland by 2050. Retrieved from https://www.admin.ch/gov/en/start/documentation/media-releases.msg-id-76206.html\n\n\nFederal Office for the Environment. (2021). Die wichtigsten Massnahmen\ndes revidierten CO2-Gesetzes. Retrieved from https://www.bafu.admin.ch/bafu/de/home/themen/thema-klima/klima--dossiers/klimaschutz-und-co2-gesetz/die-wichtigsten-massnahmen-des-revidierten-co2-gesetzes.html\n\n\nFederal Office for the Environment. (2023a). Bilateral climate\nagreements. Retrieved from https://www.bafu.admin.ch/bafu/en/home/themen/thema-klima/klimawandel-stoppen-und-folgen-meistern/klima--internationales/staatsvertraege-umsetzung-klimauebereinkommen-von-paris-artikel6.html\n\n\nFederal Office for the Environment. (2023b). Kenngrössen zur\nEntwicklung der Treibhausgasemissionen in der Schweiz\n19902021. Retrieved from https://www.bafu.admin.ch/bafu/de/home/themen/thema-klima/klima--daten--indikatoren-und-karten/daten--treibhausgasemissionen-der-schweiz/treibhausgasinventar.html\n\n\nFederal Office for the Environment. (2023c, March 31). 2050 net-zero\ntarget. Retrieved from https://www.bafu.admin.ch/bafu/en/home/themen/thema-klima/klimawandel-stoppen-und-folgen-meistern/massnahmen-der-schweiz-zur-verminderung-ihrer-treibhausgasemissionen/ziele-der-schweiz-zur-verminderung-ihrer-treibhausgasemissionen/indikatives-ziel-2050.html\n\n\nFryda, T., LeDell, E., Gill, N., Aiello, S., Fu, A., Candel, A., …\nH2O.ai. (2023). h2o: R interface for the ’H2O’ scalable machine\nlearning platform. Retrieved from https://cran.r-project.org/web/packages/h2o/index.html\n\n\nGubser, A. (2022). Modelling the energy demand of individual buildings\nin switzerland. Retrieved from https://github.com/andygubser/buildings-energy-modelling-docs/blob/de8e7ce264c2c47bb10ff4c8a153b316eaa81962/MT_Buildings_Energy_Modelling.pdf\n\n\nGuo, J., Ma, J., Li, Z., & Hong, J. (2022). Building a top-down\nmethod based on machine learning for evaluating energy intensity at a\nfine scale. Energy, 255, 124505. http://doi.org/10.1016/j.energy.2022.124505\n\n\nH2O.ai. (2023, April 28). Variable importance. Retrieved from https://docs.h2o.ai/h2o/latest-stable/h2o-docs/variable-importance.html\n\n\nHotz, N. (2022, February 22). What is the data science process?\nRetrieved from https://www.datascience-pm.com/data-science-process/\n\n\nKuhn, M., & Wickham, H. (2023). Tidymodels. Retrieved from\nhttps://cran.r-project.org/web/packages/tidymodels/index.html\n\n\nLandrat des Kantons Basel-Landschaft. (2020). Energiegesetz (EnG BL).\nRetrieved from https://bl.clex.ch/app/de/texts_of_law/490\n\n\nLundberg, S., & Lee, S.-I. (2017). A unified approach to\ninterpreting model predictions. In.\n\n\nManfren, M., James, P. AB., & Tronchin, L. (2022). Data-driven\nbuilding energy modelling  An analysis of the potential for\ngeneralisation through interpretable machine learning. Renewable and\nSustainable Energy Reviews, 167, 112686. http://doi.org/10.1016/j.rser.2022.112686\n\n\nMukherji, A., Thorne, P., Cheung, W. W. L., Connors, S. L., Garschagen,\nM., Geden, O., … Yassaa, N. (2023). Synthesis Report of the IPCC\nSixth Assessment Report (AR6): Summary for Policymakers.\n\n\nMurphy, A. (2022, January 11). Shapley values - a gentle introduction.\nRetrieved from https://h2o.ai/blog/shapley-values-a-gentle-introduction/\n\n\nNordwestschweizer Regierungskonferenz. (2021). Klima-Charta der\nNordwestschweizer Regierungskonferenz. In (p. 5). Retrieved from https://www.baselland.ch/politik-und-behorden/direktionen/bau-und-umweltschutzdirektion/umweltschutz-energie/klima-1/klima-charta-der-nordwestschweizer-regierungskonferenz/downloads-1/04_klima-charta_nwrk-d.pdf/@@download/file/04_Klima-Charta_NWRK-D.pdf\n\n\nOECD. (2023a). Demography - Elderly population. Retrieved from http://data.oecd.org/pop/elderly-population.htm\n\n\nOECD. (2023b). Demography - Young population. Retrieved from http://data.oecd.org/pop/young-population.htm\n\n\nOlu-Ajayi, R., Alaka, H., Sulaimon, I., Sunmola, F., & Ajayi, S.\n(2022). Building energy consumption prediction for residential buildings\nusing deep learning and other machine learning techniques. Journal\nof Building Engineering, 45, 103406. http://doi.org/10.1016/j.jobe.2021.103406\n\n\nRegierungsrat des Kantons Basel-Landschaft. (2021). Verordnung über\ndas kantonale gebäude- und wohnungsregister (SGS 111.12). Liestal.\nRetrieved from https://bl.clex.ch/app/de/texts_of_law/111.12\n\n\nRegierungsrat des Kantons Basel-Landschaft. (2022a). Bericht zum\nStand der Energiepolitik des Kantons Basel-Landschaft im Jahr 2022\n(p. 49). Retrieved from https://www.baselland.ch/politik-und-behorden/direktionen/bau-und-umweltschutzdirektion/umweltschutz-energie/energie/energieplanung/energieplanung-dokumentensammlung/energieplanungsbericht-2022-bericht\n\n\nRegierungsrat des Kantons Basel-Landschaft. (2022b). Vorlage an den\nLandrat: Änderung des kantonalen Energiegesetzes und des zugehörigen\nDekrets aufgrund des Energieplanungsberichts 2022 (p. 47).\nRetrieved from https://baselland.talus.ch/de/dokumente/geschaeft/0c4e9a4dc0c84cf783377aa2b4e46bcc-332\n\n\nSilge, J., & Kuhn, M. (2023). Tidy modeling with r.\nRetrieved from https://www.tmwr.org/\n\n\nStatistisches Amt des Kantons Basel-Landschaft. (2022a).\nMethodensteckbrief zur kantonalen Energiestatistik (p. 2).\nLiestal. Retrieved from https://www.statistik.bl.ch/uploads/meta_files/Methodensteckbrief_08_Energie.pdf\n\n\nStatistisches Amt des Kantons Basel-Landschaft. (2022b, June 29).\nKantonale energiestatistik. Retrieved from https://www.statistik.bl.ch/web_portal/8\n\n\nStatistisches Amt des Kantons Basel-Landschaft. (2022c, June 29).\nWebartikel: Energiestatistik 2020. Retrieved from https://www.baselland.ch/politik-und-behorden/direktionen/finanz-und-kirchendirektion/statistisches-amt/publikationen/energie/webartikel_vom_29-06-2022_energiestatistik_2020\n\n\nStatistisches Amt des Kantons Basel-Stadt. (2017). Energiestatistik:\nKonzeptioneller und methodischer Leitfaden (p. 42). Basel.\n\n\nStatistisches Amt des Kantons Basel-Stadt. (2022). Methodenbericht -\nEnergiestatistik Basel-Stadt. (p. 12). Basel. Retrieved from https://www.statistik.bs.ch/dam/jcr:51d6273d-0c4c-40f9-9941-beb834331e45/Methodikbericht-Energiestatistik.pdf\n\n\nTrevisan, V. (2022, July 5). Using SHAP Values to Explain How Your\nMachine Learning Model Works. Retrieved from https://towardsdatascience.com/using-shap-values-to-explain-how-your-machine-learning-model-works-732b3f40e137\n\n\nWei, P., Lu, Z., & Song, J. (2015). Variable importance analysis: A\ncomprehensive review. Reliability Engineering & System\nSafety, 142, 399–432. http://doi.org/10.1016/j.ress.2015.05.018\n\n\nWenninger, S., & Wiethe, C. (2021). Benchmarking Energy\nQuantification Methods to Predict Heating Energy Performance of\nResidential Buildings in Germany. Business & Information Systems\nEngineering, 63(3), 223–242. http://doi.org/10.1007/s12599-021-00691-2\n\n\nWilson, C., & Velden, M. van der. (2022). Sustainable AI: An\nintegrated model to guide public sector decision-making. Technology\nin Society, 68, 101926. http://doi.org/10.1016/j.techsoc.2022.101926\n\n\nWirth, R., & Hipp, J. (2000). Crisp-dm: Towards a standard process\nmodell for data mining. In. Retrieved from https://www.semanticscholar.org/paper/Crisp-dm%3A-towards-a-standard-process-modell-for-Wirth-Hipp/48b9293cfd4297f855867ca278f7069abc6a9c24\n\n\nWolf, C. T., & Ringland, K. E. (2020). Designing accessible,\nexplainable AI (XAI) experiences. ACM SIGACCESS Accessibility and\nComputing, (125), 6:1. http://doi.org/10.1145/3386296.3386302\n\n\nYu, J., Chang, W.-S., & Dong, Y. (2022). Building Energy Prediction\nModels and Related Uncertainties: A Review. Buildings,\n12(8), 1284. http://doi.org/10.3390/buildings12081284\n\n\nZhong, X., Hu, M., Deetman, S., Steubing, B., Lin, H. X., Hernandez, G.\nA., … Behrens, P. (2021). Global greenhouse gas emissions from\nresidential and commercial building materials and mitigation strategies\nto 2060. Nature Communications, 12(1), 6126.\nhttp://doi.org/10.1038/s41467-021-26212-z"
  },
  {
    "objectID": "06-appendix.html",
    "href": "06-appendix.html",
    "title": "Appendix A — Data preparation and exploration",
    "section": "",
    "text": "B Modelling"
  },
  {
    "objectID": "06-appendix.html#ridgline-density-plots-of-hepi",
    "href": "06-appendix.html#ridgline-density-plots-of-hepi",
    "title": "Appendix A — Data preparation and exploration",
    "section": "A.1 Ridgline density plots of HEPI",
    "text": "A.1 Ridgline density plots of HEPI\n\n\n\nHEPI density plot for SFH per municipality\n\n\n\n\n\nHEPI density plot for MFH per municipality"
  },
  {
    "objectID": "06-appendix.html#sec-appendix-retrofit",
    "href": "06-appendix.html#sec-appendix-retrofit",
    "title": "Appendix A — Data preparation and exploration",
    "section": "A.2 Retrofit analysis",
    "text": "A.2 Retrofit analysis\n\n\n\nFigure A.1: Number of retrofitted buildings per year and retrofit type\n\n\n\n\n\n\n\nFigure A.2: Comparison of HEC before and after retrofitting (2016/2018).\n\n\n\n\n\n\n\n\n\nFigure A.3: Comparison of HEC before and after retrofitting (2018/2020).\n\n\n\n\n\n\n\n\n\nFigure A.4: Comparison of HEC before and after retrofitting (2016/2020)."
  },
  {
    "objectID": "06-appendix.html#sec-appendix-actual-predicted-all",
    "href": "06-appendix.html#sec-appendix-actual-predicted-all",
    "title": "Appendix A — Data preparation and exploration",
    "section": "B.1 Actual vs. Predicted using all data",
    "text": "B.1 Actual vs. Predicted using all data\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure B.1: Actual and predicted values for models with all data."
  },
  {
    "objectID": "06-appendix.html#residual-plots-all-data",
    "href": "06-appendix.html#residual-plots-all-data",
    "title": "Appendix A — Data preparation and exploration",
    "section": "B.2 Residual plots (all data)",
    "text": "B.2 Residual plots (all data)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure B.2: Residual plots for models with all data."
  },
  {
    "objectID": "06-appendix.html#sec-appendix-actual-predicted-buidling-class",
    "href": "06-appendix.html#sec-appendix-actual-predicted-buidling-class",
    "title": "Appendix A — Data preparation and exploration",
    "section": "B.3 Actual vs. Predicted subset building class",
    "text": "B.3 Actual vs. Predicted subset building class\n\n\n\n\n\n\n\n\n\n\nFigure B.3: Density plots of actual and predicted values for building classes."
  },
  {
    "objectID": "06-appendix.html#sec-appendix-actual-predicted-construction-period",
    "href": "06-appendix.html#sec-appendix-actual-predicted-construction-period",
    "title": "Appendix A — Data preparation and exploration",
    "section": "B.4 Actual vs. Predicted subset construction period",
    "text": "B.4 Actual vs. Predicted subset construction period\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFigure B.4: Density plots of actual and predicted values for construction periods."
  },
  {
    "objectID": "06-appendix.html#sec-appendix-actual-predicted-survey-year",
    "href": "06-appendix.html#sec-appendix-actual-predicted-survey-year",
    "title": "Appendix A — Data preparation and exploration",
    "section": "B.5 Actual vs. Predicted subset survey year",
    "text": "B.5 Actual vs. Predicted subset survey year\n\n\n\n\n\n\n\n\n\n\nFigure B.5: Density plots of actual and predicted values for survey year."
  },
  {
    "objectID": "06-appendix.html#sec-appendix-variable-selections",
    "href": "06-appendix.html#sec-appendix-variable-selections",
    "title": "Appendix A — Data preparation and exploration",
    "section": "B.6 Comparison of variable selections",
    "text": "B.6 Comparison of variable selections\n\n\n\n\nTable B.1: Comparing variable selections: Best perfomance for each selection and algorithm.\n\n\n\n\n\n\n\n\n\n\n\n\nVariable Selection\nAlgorithm\nR2\nRMSE\nMAE\nMAPE\nCV\nntrain/ntest\n\n\n\n\nWithout social indicators\nGBM\n0.88\n17727.96\n6520.89\n22.21\n0.60\n36555/12185\n\n\nAll predictors\nGBM\n0.86\n18796.45\n7916.89\n26.97\n0.64\n36555/12185\n\n\nWithout social indicators\nDRF\n0.86\n18804.38\n6767.11\n23.05\n0.64\n36555/12185\n\n\nWithout social indicators\nStacked Ensemble\n0.85\n19524.23\n5811.33\n19.80\n0.67\n36555/12185\n\n\nWithout retrofit variable\nGBM\n0.85\n19680.92\n7876.90\n26.83\n0.67\n36555/12185\n\n\nWithout social indicators\nXGB\n0.85\n19712.51\n6583.68\n22.43\n0.67\n36555/12185\n\n\nWithout stand alone variable\nGBM\n0.84\n19991.96\n8010.64\n27.29\n0.68\n36555/12185\n\n\nOnly basic predictors\nGBM\n0.84\n20175.04\n7703.80\n26.24\n0.69\n36555/12185\n\n\nAll predictors\nXGB\n0.84\n20506.81\n7999.34\n27.25\n0.70\n36555/12185\n\n\nOnly basic predictors\nXGB\n0.83\n20617.68\n7166.03\n24.41\n0.70\n36555/12185\n\n\nAll predictors\nStacked Ensemble\n0.83\n20723.59\n7310.17\n24.90\n0.71\n36555/12185\n\n\nWithout retrofit variable\nXGB\n0.83\n21022.29\n7769.62\n26.47\n0.72\n36555/12185\n\n\nAll predictors\nDRF\n0.82\n21206.08\n7159.74\n24.39\n0.72\n36555/12185\n\n\nOnly basic predictors\nDRF\n0.82\n21367.54\n8245.05\n28.09\n0.73\n36555/12185\n\n\nWithout stand alone variable\nDRF\n0.82\n21373.87\n8006.33\n27.27\n0.73\n36555/12185\n\n\nWithout retrofit variable\nDRF\n0.82\n21483.90\n7685.28\n26.18\n0.73\n36555/12185\n\n\nWithout retrofit variable\nStacked Ensemble\n0.82\n21559.83\n6939.38\n23.64\n0.73\n36555/12185\n\n\nWithout stand alone variable\nXGB\n0.81\n21866.54\n8062.34\n27.46\n0.74\n36555/12185\n\n\nWithout stand alone variable\nStacked Ensemble\n0.81\n21946.88\n7416.07\n25.26\n0.75\n36555/12185\n\n\nOnly basic predictors\nStacked Ensemble\n0.81\n22155.63\n7914.39\n26.96\n0.75\n36555/12185\n\n\nWithout social indicators\nDeep Learning\n0.77\n24255.29\n9330.93\n31.78\n0.83\n36555/12185\n\n\nAll predictors\nDeep Learning\n0.77\n24451.23\n8871.63\n30.22\n0.83\n36555/12185\n\n\nWithout retrofit variable\nDeep Learning\n0.76\n24662.24\n8989.62\n30.62\n0.84\n36555/12185\n\n\nWithout stand alone variable\nDeep Learning\n0.75\n25499.45\n9359.63\n31.88\n0.87\n36555/12185\n\n\nOnly basic predictors\nDeep Learning\n0.75\n25540.78\n10363.19\n35.30\n0.87\n36555/12185\n\n\nOnly basic predictors\nCurrent Approach\n0.75\n26874.14\n10128.72\n37.88\nNA\n36555/12185\n\n\nAll predictors\nCurrent Approach\n0.75\n26874.14\n10128.72\n37.88\nNA\n36555/12185\n\n\nWithout retrofit variable\nCurrent Approach\n0.75\n26874.14\n10128.72\n37.88\nNA\n36555/12185\n\n\nWithout stand alone variable\nCurrent Approach\n0.75\n26874.14\n10128.72\n37.88\nNA\n36555/12185\n\n\nWithout social indicators\nCurrent Approach\n0.75\n26874.14\n10128.72\n37.88\nNA\n36555/12185\n\n\nOnly basic predictors\nGLM\n0.00\n50626.48\n20736.22\n70.64\n1.72\n36555/12185\n\n\nAll predictors\nGLM\n0.00\n50626.48\n20736.21\n70.64\n1.72\n36555/12185\n\n\nWithout retrofit variable\nGLM\n0.00\n50626.48\n20736.21\n70.64\n1.72\n36555/12185\n\n\nWithout stand alone variable\nGLM\n0.00\n50626.48\n20736.21\n70.64\n1.72\n36555/12185\n\n\nWithout social indicators\nGLM\n0.00\n50626.48\n20736.22\n70.64\n1.72\n36555/12185"
  }
]